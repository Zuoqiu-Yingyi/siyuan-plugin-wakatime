"use strict";var es=Object.defineProperty;var ts=(t,e,n)=>e in t?es(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var G=(t,e,n)=>(ts(t,typeof e!="symbol"?e+"":e,n),n);const st=require("siyuan"),ns=`<symbol
    id="icon-wakatime"
    viewBox="0 0 340 340"
    fill="none"
>
    <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M170 20C87.156 20 20 87.156 20 170C20 252.844 87.156 320 170 320C252.844 320 320 252.844 320 170C320 87.156 252.844 20 170 20V20V20Z"
        stroke="currentColor" stroke-width="40"
    />
    <path
        d="M190.183 213.541C188.74 215.443 186.576 216.667 184.151 216.667C183.913 216.667 183.677 216.651 183.443 216.627C183.042 216.579 182.823 216.545 182.606 216.497C182.337 216.434 182.137 216.375 181.94 216.308C181.561 216.176 181.392 216.109 181.228 216.035C180.843 215.849 180.707 215.778 180.572 215.701C180.205 215.478 180.109 215.412 180.014 215.345C179.856 215.233 179.698 215.117 179.547 214.992C179.251 214.746 179.147 214.65 179.044 214.552C178.731 214.241 178.531 214.018 178.341 213.785C177.982 213.331 177.69 212.888 177.438 212.415L168.6 198.214L159.766 212.415C158.38 214.939 155.874 216.667 152.995 216.667C150.106 216.667 147.588 214.926 146.243 212.346L107.607 156.061C106.337 154.529 105.556 152.499 105.556 150.258C105.556 145.514 109.043 141.665 113.344 141.665C116.127 141.665 118.564 143.282 119.942 145.708L152.555 193.9L161.735 178.952C163.058 176.288 165.626 174.478 168.575 174.478C171.273 174.478 173.652 175.996 175.049 178.298L184.517 193.839L235.684 120.583C237.075 118.226 239.475 116.667 242.213 116.667C246.514 116.667 250 120.514 250 125.258C250 127.332 249.337 129.232 248.23 130.715L190.183 213.541Z"
        fill="currentColor"
        stroke="currentColor"
        stroke-width="10"
    />

</symbol>
`,is=`<symbol
   id="icon-wakatime-wakapi"
   viewBox="0 0 107.06042 107.06042"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
>
   <defs
      id="defs894">
      <clipPath
         clipPathUnits="userSpaceOnUse"
         id="clipPath20">
         <path
            d="M 0,700 H 1100 V 0 H 0 Z"
            id="path18" />
      </clipPath>
   </defs>
   <sodipodi:namedview
      id="base"
      pagecolor="#ffffff"
      bordercolor="#666666"
      borderopacity="1.0"
      inkscape:pageopacity="0.0"
      inkscape:pageshadow="2"
      inkscape:zoom="0.35"
      inkscape:cx="501.46484"
      inkscape:cy="865.17604"
      inkscape:document-units="mm"
      inkscape:current-layer="layer1"
      inkscape:document-rotation="0"
      showgrid="false"
      inkscape:window-width="1346"
      inkscape:window-height="1198"
      inkscape:window-x="149"
      inkscape:window-y="113"
      inkscape:window-maximized="0" />
   <metadata
      id="metadata897">
      <rdf:RDF>
         <cc:Work
            rdf:about="">
            <dc:format>image/svg+xml</dc:format>
            <dc:type
               rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
            <dc:title></dc:title>
         </cc:Work>
      </rdf:RDF>
   </metadata>
   <g
      inkscape:label="Layer 1"
      inkscape:groupmode="layer"
      id="layer1"
      transform="translate(26.845906,80.744493)">
      <g
         id="g14"
         transform="matrix(0.35277777,0,0,-0.35277777,-100.60779,96.696294)">
         <g
            id="g16"
            clip-path="url(#clipPath20)">
            <g
               id="g22"
               transform="translate(600.9092,345.958)" />
            <g
               id="g26"
               transform="translate(706.707,299.5566)" />
            <g
               id="g30"
               transform="translate(810.2764,345.958)" />
            <g
               id="g34"
               transform="translate(930.5527,345.958)" />
            <g
               id="g40"
               transform="translate(503.8398,367.5195)">
               <path
                  d="m 8.7266003,-16.286056 c 0,-3.170064 -0.10674,-6.340128 -0.32021,-9.492657 -0.85541,-13.857403 -3.56194,-27.197135 -7.89009005,-39.789715 C -18.95161,-122.31318 -71.13644,-163.86557 -133.5283,-167.69511 c -3.13424,-0.23101 -6.30506,-0.32097 -9.49342,-0.32097 -3.1876,0 -6.33937,0.09 -9.4919,0.32097 -76.24773,4.68419 -137.23296,65.6679 -141.91639,141.916397 -0.23101,3.152529 -0.32098,6.322593 -0.32098,9.492657 0,3.188361 0.09,6.358425 0.32098,9.493419 4.68343,76.22944 65.66866,137.249737 141.91639,141.933927 3.15253,0.21348 6.3043,0.32098 9.4919,0.32098 3.18836,0 6.35918,-0.1075 9.49342,-0.32098 V 94.354359 h -18.98532 V 110.75818 C -215.22645,106.14489 -265.43361,55.901133 -270.06444,-6.792637 h 14.65793 v -18.986076 h -14.65793 c 4.63083,-62.712067 54.83799,-112.920757 117.55082,-117.551577 v 16.72479 h 18.98532 v -16.72479 c 46.32654,3.42013 85.86619,31.73876 105.20907,71.59937 6.83873,14.070117 11.14859,29.584217 12.34251,45.952207 h -0.0358 l 8.8697703,18.986076 h 15.54917 c 0.21347,-3.134994 0.32021,-6.305058 0.32021,-9.493419"
                  style="fill:#2f855a;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:0.762401"
                  id="path42" />
            </g>
            <g
               id="g44"
               transform="translate(504.2754,431.2373)">
               <path
                  d="m 11.6231,-31.425333 -17.1029497,8.252992 -4.6666503,-9.703842 -9.61922,-20.006168 -37.98968,-78.855149 -0.0572,-0.0854 h -37.47886 l -0.0282,0.0572 0.0282,0.0854 14.77,30.64853 3.78456,7.85425 0.19898,0.42618 19.2087,39.869009 7.37013,15.25336 2.27653,4.752808 11.72497,24.386926 -5.77672,2.761416 -9.59024,4.638449 49.9708203,23.249422 z"
                  style="fill:#2f855a;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:0.762401"
                  id="path46" />
            </g>
            <g
               id="g48"
               transform="translate(258.5654,361.2139)">
               <path
                  d="m 65.50352,-19.287853 v -0.0183 L 46.73396,-58.308305 12.56848,12.654468 2.9523203,32.646912 H 40.49066 l 9.63446,-19.992444 z"
                  style="fill:#2f855a;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:0.762401"
                  id="path50" />
            </g>
            <g
               id="g52"
               transform="translate(320.9248,367.3867)">
               <path
                  d="M 52.18699,-16.254503 27.28545,-67.966647 v -0.01906 h -37.57494 v 0.01906 l 18.7870903,39.002155 19.2506297,39.94677 5.65168,11.764611 5.66921,-11.764611 9.2647,-19.232331 z"
                  style="fill:#2f855a;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:0.762401"
                  id="path54" />
            </g>
            <g
               id="g56"
               transform="translate(383.7656,359.833)">
               <path
                  d="m 38.75609,-18.959752 -3.78456,-7.854257 -14.7982,-30.591345 -0.0282,-0.08539 -25.2979997,52.560696 -9.1358503,18.95253 -9.61769,20.005406 h 37.10759 z"
                  style="fill:#2f855a;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:0.762401"
                  id="path58" />
            </g>
         </g>
      </g>
   </g>
</symbol>
`,ss="wakatime",as="Zuoqiu Yingyi",rs="https://github.com/Zuoqiu-Yingyi/siyuan-plugin-wakatime",os="0.3.6",ls="2.10.13",cs=["分析","统计","統計","编辑活动","編輯活動","statistics","analytics","wakatime","wakapi"],us=["all"],fs=["all"],hs={default:"WakaTime"},ps={default:"Use <a href='https://github.com/muety/wakapi'>Wakapi</a> or <a href='https://wakatime.com/'>WakaTime</a> to count your editing Activity",zh_CN:"使用 <a href='https://github.com/muety/wakapi'>Wakapi</a> 或 <a href='https://wakatime.com/'>WakaTime</a> 统计您的编辑活动",zh_CHT:"使用 <a href='https://github.com/muety/wakapi'>Wakapi</a> 或 <a href='https://wakatime.com/'>WakaTime</a> 統計您的編輯活動"},ms={default:"README.md",zh_CN:"README_zh_CN.md",zh_CHT:"README_zh_CN.md"},ds={openCollective:"",patreon:"",github:"",custom:["https://afdian.net/a/zuoqiu","https://ko-fi.com/zuoqiu"]},Sn={name:ss,author:as,url:rs,version:os,minAppVersion:ls,keywords:cs,backends:us,frontends:fs,displayName:hs,description:ps,readme:ms,funding:ds};var gs=Object.defineProperty,bs=(t,e,n)=>e in t?gs(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ye=(t,e,n)=>(bs(t,typeof e!="symbol"?e+"":e,n),n);const ws=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,_s=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,ks=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function ys(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){vs(t);return}return e}function vs(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function Ss(t,e={}){if(typeof t!="string")return t;const n=t.trim();if(t[0]==='"'&&t.endsWith('"')&&!t.includes("\\"))return n.slice(1,-1);if(n.length<=9){const i=n.toLowerCase();if(i==="true")return!0;if(i==="false")return!1;if(i==="undefined")return;if(i==="null")return null;if(i==="nan")return Number.NaN;if(i==="infinity")return Number.POSITIVE_INFINITY;if(i==="-infinity")return Number.NEGATIVE_INFINITY}if(!ks.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(ws.test(t)||_s.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,ys)}return JSON.parse(t)}catch(i){if(e.strict)throw i;return t}}const Ts=/#/g,As=/&/g,Es=/\//g,$s=/=/g,fn=/\+/g,Os=/%5e/gi,Cs=/%60/gi,Rs=/%7c/gi,Ps=/%20/gi;function Ns(t){return encodeURI(""+t).replace(Rs,"|")}function Yt(t){return Ns(typeof t=="string"?t:JSON.stringify(t)).replace(fn,"%2B").replace(Ps,"+").replace(Ts,"%23").replace(As,"%26").replace(Cs,"`").replace(Os,"^").replace(Es,"%2F")}function Ht(t){return Yt(t).replace($s,"%3D")}function ki(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function Ds(t){return ki(t.replace(fn," "))}function Bs(t){return ki(t.replace(fn," "))}function Ls(t=""){const e={};t[0]==="?"&&(t=t.slice(1));for(const n of t.split("&")){const i=n.match(/([^=]+)=?(.*)/)||[];if(i.length<2)continue;const s=Ds(i[1]);if(s==="__proto__"||s==="constructor")continue;const a=Bs(i[2]||"");e[s]===void 0?e[s]=a:Array.isArray(e[s])?e[s].push(a):e[s]=[e[s],a]}return e}function Ms(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(n=>`${Ht(t)}=${Yt(n)}`).join("&"):`${Ht(t)}=${Yt(e)}`:Ht(t)}function Is(t){return Object.keys(t).filter(e=>t[e]!==void 0).map(e=>Ms(e,t[e])).filter(Boolean).join("&")}const js=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,qs=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,Us=/^([/\\]\s*){2,}[^/\\]/,Fs=/\/$|\/\?|\/#/,Hs=/^\.?\//;function yi(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?js.test(t):qs.test(t)||(e.acceptRelative?Us.test(t):!1)}function Xt(t="",e){return e?Fs.test(t):t.endsWith("/")}function Vs(t="",e){if(!e)return(Xt(t)?t.slice(0,-1):t)||"/";if(!Xt(t,!0))return t||"/";let n=t,i="";const s=t.indexOf("#");s>=0&&(n=t.slice(0,s),i=t.slice(s));const[a,...r]=n.split("?");return((a.endsWith("/")?a.slice(0,-1):a)||"/")+(r.length>0?`?${r.join("?")}`:"")+i}function zs(t="",e){if(!e)return t.endsWith("/")?t:t+"/";if(Xt(t,!0))return t||"/";let n=t,i="";const s=t.indexOf("#");if(s>=0&&(n=t.slice(0,s),i=t.slice(s),!n))return i;const[a,...r]=n.split("?");return a+"/"+(r.length>0?`?${r.join("?")}`:"")+i}function Ws(t,e){if(xs(e)||yi(t))return t;const n=Vs(e);return t.startsWith(n)?t:Js(n,t)}function Ks(t,e){const n=Si(t),i={...Ls(n.search),...e};return n.search=Is(i),Ys(n)}function xs(t){return!t||t==="/"}function Gs(t){return t&&t!=="/"}function Js(t,...e){let n=t||"";for(const i of e.filter(s=>Gs(s)))if(n){const s=i.replace(Hs,"");n=zs(n)+s}else n=i;return n}const vi=Symbol.for("ufo:protocolRelative");function Si(t="",e){const n=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){const[,b,m=""]=n;return{protocol:b.toLowerCase(),pathname:m,href:b+m,auth:"",host:"",search:"",hash:""}}if(!yi(t,{acceptRelative:!0}))return e?Si(e+t):Tn(t);const[,i="",s,a=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[],[,r="",o=""]=a.match(/([^#/?]*)(.*)?/)||[],{pathname:c,search:p,hash:l}=Tn(o.replace(/\/(?=[A-Za-z]:)/,""));return{protocol:i.toLowerCase(),auth:s?s.slice(0,Math.max(0,s.length-1)):"",host:r,pathname:c,search:p,hash:l,[vi]:!i}}function Tn(t=""){const[e="",n="",i=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:n,hash:i}}function Ys(t){const e=t.pathname||"",n=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",i=t.hash||"",s=t.auth?t.auth+"@":"",a=t.host||"";return(t.protocol||t[vi]?(t.protocol||"")+"//":"")+s+a+e+n+i}class Xs extends Error{constructor(e,n){super(e,n),this.name="FetchError",n!=null&&n.cause&&!this.cause&&(this.cause=n.cause)}}function Zs(t){var e,n,i,s,a;const r=((e=t.error)==null?void 0:e.message)||((n=t.error)==null?void 0:n.toString())||"",o=((i=t.request)==null?void 0:i.method)||((s=t.options)==null?void 0:s.method)||"GET",c=((a=t.request)==null?void 0:a.url)||String(t.request)||"/",p=`[${o}] ${JSON.stringify(c)}`,l=t.response?`${t.response.status} ${t.response.statusText}`:"<no response>",b=`${p}: ${l}${r?` ${r}`:""}`,m=new Xs(b,t.error?{cause:t.error}:void 0);for(const f of["request","options","response"])Object.defineProperty(m,f,{get(){return t[f]}});for(const[f,u]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(m,f,{get(){return t.response&&t.response[u]}});return m}const Qs=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function An(t="GET"){return Qs.has(t.toUpperCase())}function ea(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.buffer?!1:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const ta=new Set(["image/svg","application/xml","application/xhtml","application/html"]),na=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function ia(t=""){if(!t)return"json";const e=t.split(";").shift()||"";return na.test(e)?"json":ta.has(e)||e.startsWith("text/")?"text":"blob"}function sa(t,e,n=globalThis.Headers){const i={...e,...t};if(e!=null&&e.params&&t!=null&&t.params&&(i.params={...e==null?void 0:e.params,...t==null?void 0:t.params}),e!=null&&e.query&&t!=null&&t.query&&(i.query={...e==null?void 0:e.query,...t==null?void 0:t.query}),e!=null&&e.headers&&t!=null&&t.headers){i.headers=new n((e==null?void 0:e.headers)||{});for(const[s,a]of new n((t==null?void 0:t.headers)||{}))i.headers.set(s,a)}return i}const aa=new Set([408,409,425,429,500,502,503,504]),ra=new Set([101,204,205,304]);function Ti(t={}){const{fetch:e=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:i=globalThis.AbortController}=t;async function s(o){const c=o.error&&o.error.name==="AbortError"&&!o.options.timeout||!1;if(o.options.retry!==!1&&!c){let l;typeof o.options.retry=="number"?l=o.options.retry:l=An(o.options.method)?0:1;const b=o.response&&o.response.status||500;if(l>0&&(Array.isArray(o.options.retryStatusCodes)?o.options.retryStatusCodes.includes(b):aa.has(b))){const m=o.options.retryDelay||0;return m>0&&await new Promise(f=>setTimeout(f,m)),a(o.request,{...o.options,retry:l-1,timeout:o.options.timeout})}}const p=Zs(o);throw Error.captureStackTrace&&Error.captureStackTrace(p,a),p}const a=async function(o,c={}){var p;const l={request:o,options:sa(c,t.defaults,n),response:void 0,error:void 0};if(l.options.method=(p=l.options.method)==null?void 0:p.toUpperCase(),l.options.onRequest&&await l.options.onRequest(l),typeof l.request=="string"&&(l.options.baseURL&&(l.request=Ws(l.request,l.options.baseURL)),(l.options.query||l.options.params)&&(l.request=Ks(l.request,{...l.options.params,...l.options.query}))),l.options.body&&An(l.options.method)&&(ea(l.options.body)?(l.options.body=typeof l.options.body=="string"?l.options.body:JSON.stringify(l.options.body),l.options.headers=new n(l.options.headers||{}),l.options.headers.has("content-type")||l.options.headers.set("content-type","application/json"),l.options.headers.has("accept")||l.options.headers.set("accept","application/json")):("pipeTo"in l.options.body&&typeof l.options.body.pipeTo=="function"||typeof l.options.body.pipe=="function")&&("duplex"in l.options||(l.options.duplex="half"))),!l.options.signal&&l.options.timeout){const b=new i;setTimeout(()=>b.abort(),l.options.timeout),l.options.signal=b.signal}try{l.response=await e(l.request,l.options)}catch(b){return l.error=b,l.options.onRequestError&&await l.options.onRequestError(l),await s(l)}if(l.response.body&&!ra.has(l.response.status)&&l.options.method!=="HEAD"){const b=(l.options.parseResponse?"json":l.options.responseType)||ia(l.response.headers.get("content-type")||"");switch(b){case"json":{const m=await l.response.text(),f=l.options.parseResponse||Ss;l.response._data=f(m);break}case"stream":{l.response._data=l.response.body;break}default:l.response._data=await l.response[b]()}}return l.options.onResponse&&await l.options.onResponse(l),!l.options.ignoreResponseError&&l.response.status>=400&&l.response.status<600?(l.options.onResponseError&&await l.options.onResponseError(l),await s(l)):l.response},r=async function(o,c){return(await a(o,c))._data};return r.raw=a,r.native=(...o)=>e(...o),r.create=(o={})=>Ti({...t,defaults:{...t.defaults,...o}}),r}const hn=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}(),oa=hn.fetch||(()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!"))),la=hn.Headers,ca=hn.AbortController,ua=Ti({fetch:oa,Headers:la,AbortController:ca});class fa extends Error{constructor(e){super(e.statusText),ye(this,"status"),this.response=e,this.status=e.status}}class En extends Error{constructor(e,n){super(e.msg),ye(this,"code"),ye(this,"msg"),ye(this,"data"),this.body=e,this.response=n,this.code=e.code,this.msg=e.msg,this.data=e.data}}function Te(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function $n(t,e){for(var n="",i=0,s=-1,a=0,r,o=0;o<=t.length;++o){if(o<t.length)r=t.charCodeAt(o);else{if(r===47)break;r=47}if(r===47){if(!(s===o-1||a===1))if(s!==o-1&&a===2){if(n.length<2||i!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){var c=n.lastIndexOf("/");if(c!==n.length-1){c===-1?(n="",i=0):(n=n.slice(0,c),i=n.length-1-n.lastIndexOf("/")),s=o,a=0;continue}}else if(n.length===2||n.length===1){n="",i=0,s=o,a=0;continue}}e&&(n.length>0?n+="/..":n="..",i=2)}else n.length>0?n+="/"+t.slice(s+1,o):n=t.slice(s+1,o),i=o-s-1;s=o,a=0}else r===46&&a!==-1?++a:a=-1}return n}function ha(t,e){var n=e.dir||e.root,i=e.base||(e.name||"")+(e.ext||"");return n?n===e.root?n+i:n+t+i:i}var wt={resolve:function(){for(var t="",e=!1,n,i=arguments.length-1;i>=-1&&!e;i--){var s;i>=0?s=arguments[i]:(n===void 0&&(n=process.cwd()),s=n),Te(s),s.length!==0&&(t=s+"/"+t,e=s.charCodeAt(0)===47)}return t=$n(t,!e),e?t.length>0?"/"+t:"/":t.length>0?t:"."},normalize:function(t){if(Te(t),t.length===0)return".";var e=t.charCodeAt(0)===47,n=t.charCodeAt(t.length-1)===47;return t=$n(t,!e),t.length===0&&!e&&(t="."),t.length>0&&n&&(t+="/"),e?"/"+t:t},isAbsolute:function(t){return Te(t),t.length>0&&t.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var t,e=0;e<arguments.length;++e){var n=arguments[e];Te(n),n.length>0&&(t===void 0?t=n:t+="/"+n)}return t===void 0?".":wt.normalize(t)},relative:function(t,e){if(Te(t),Te(e),t===e||(t=wt.resolve(t),e=wt.resolve(e),t===e))return"";for(var n=1;n<t.length&&t.charCodeAt(n)===47;++n);for(var i=t.length,s=i-n,a=1;a<e.length&&e.charCodeAt(a)===47;++a);for(var r=e.length,o=r-a,c=s<o?s:o,p=-1,l=0;l<=c;++l){if(l===c){if(o>c){if(e.charCodeAt(a+l)===47)return e.slice(a+l+1);if(l===0)return e.slice(a+l)}else s>c&&(t.charCodeAt(n+l)===47?p=l:l===0&&(p=0));break}var b=t.charCodeAt(n+l),m=e.charCodeAt(a+l);if(b!==m)break;b===47&&(p=l)}var f="";for(l=n+p+1;l<=i;++l)(l===i||t.charCodeAt(l)===47)&&(f.length===0?f+="..":f+="/..");return f.length>0?f+e.slice(a+p):(a+=p,e.charCodeAt(a)===47&&++a,e.slice(a))},_makeLong:function(t){return t},dirname:function(t){if(Te(t),t.length===0)return".";for(var e=t.charCodeAt(0),n=e===47,i=-1,s=!0,a=t.length-1;a>=1;--a)if(e=t.charCodeAt(a),e===47){if(!s){i=a;break}}else s=!1;return i===-1?n?"/":".":n&&i===1?"//":t.slice(0,i)},basename:function(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Te(t);var n=0,i=-1,s=!0,a;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";var r=e.length-1,o=-1;for(a=t.length-1;a>=0;--a){var c=t.charCodeAt(a);if(c===47){if(!s){n=a+1;break}}else o===-1&&(s=!1,o=a+1),r>=0&&(c===e.charCodeAt(r)?--r===-1&&(i=a):(r=-1,i=o))}return n===i?i=o:i===-1&&(i=t.length),t.slice(n,i)}else{for(a=t.length-1;a>=0;--a)if(t.charCodeAt(a)===47){if(!s){n=a+1;break}}else i===-1&&(s=!1,i=a+1);return i===-1?"":t.slice(n,i)}},extname:function(t){Te(t);for(var e=-1,n=0,i=-1,s=!0,a=0,r=t.length-1;r>=0;--r){var o=t.charCodeAt(r);if(o===47){if(!s){n=r+1;break}continue}i===-1&&(s=!1,i=r+1),o===46?e===-1?e=r:a!==1&&(a=1):e!==-1&&(a=-1)}return e===-1||i===-1||a===0||a===1&&e===i-1&&e===n+1?"":t.slice(e,i)},format:function(t){if(t===null||typeof t!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);return ha("/",t)},parse:function(t){Te(t);var e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;var n=t.charCodeAt(0),i=n===47,s;i?(e.root="/",s=1):s=0;for(var a=-1,r=0,o=-1,c=!0,p=t.length-1,l=0;p>=s;--p){if(n=t.charCodeAt(p),n===47){if(!c){r=p+1;break}continue}o===-1&&(c=!1,o=p+1),n===46?a===-1?a=p:l!==1&&(l=1):a!==-1&&(l=-1)}return a===-1||o===-1||l===0||l===1&&a===o-1&&a===r+1?o!==-1&&(r===0&&i?e.base=e.name=t.slice(1,o):e.base=e.name=t.slice(r,o)):(r===0&&i?(e.name=t.slice(1,a),e.base=t.slice(1,o)):(e.name=t.slice(r,a),e.base=t.slice(r,o)),e.ext=t.slice(a,o)),r>0?e.dir=t.slice(0,r-1):i&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};wt.posix=wt;function Ai(t,e){return function(){return t.apply(e,arguments)}}const{toString:pa}=Object.prototype,{getPrototypeOf:pn}=Object,Mt=(t=>e=>{const n=pa.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),$e=t=>(t=t.toLowerCase(),e=>Mt(e)===t),It=t=>e=>typeof e===t,{isArray:ut}=Array,yt=It("undefined");function ma(t){return t!==null&&!yt(t)&&t.constructor!==null&&!yt(t.constructor)&&de(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Ei=$e("ArrayBuffer");function da(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Ei(t.buffer),e}const ga=It("string"),de=It("function"),$i=It("number"),jt=t=>t!==null&&typeof t=="object",ba=t=>t===!0||t===!1,Rt=t=>{if(Mt(t)!=="object")return!1;const e=pn(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},wa=$e("Date"),_a=$e("File"),ka=$e("Blob"),ya=$e("FileList"),va=t=>jt(t)&&de(t.pipe),Sa=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||de(t.append)&&((e=Mt(t))==="formdata"||e==="object"&&de(t.toString)&&t.toString()==="[object FormData]"))},Ta=$e("URLSearchParams"),Aa=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Tt(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,s;if(typeof t!="object"&&(t=[t]),ut(t))for(i=0,s=t.length;i<s;i++)e.call(null,t[i],i,t);else{const a=n?Object.getOwnPropertyNames(t):Object.keys(t),r=a.length;let o;for(i=0;i<r;i++)o=a[i],e.call(null,t[o],o,t)}}function Oi(t,e){e=e.toLowerCase();const n=Object.keys(t);let i=n.length,s;for(;i-- >0;)if(s=n[i],e===s.toLowerCase())return s;return null}const Ci=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Ri=t=>!yt(t)&&t!==Ci;function Zt(){const{caseless:t}=Ri(this)&&this||{},e={},n=(i,s)=>{const a=t&&Oi(e,s)||s;Rt(e[a])&&Rt(i)?e[a]=Zt(e[a],i):Rt(i)?e[a]=Zt({},i):ut(i)?e[a]=i.slice():e[a]=i};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Tt(arguments[i],n);return e}const Ea=(t,e,n,{allOwnKeys:i}={})=>(Tt(e,(s,a)=>{n&&de(s)?t[a]=Ai(s,n):t[a]=s},{allOwnKeys:i}),t),$a=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Oa=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Ca=(t,e,n,i)=>{let s,a,r;const o={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),a=s.length;a-- >0;)r=s[a],(!i||i(r,t,e))&&!o[r]&&(e[r]=t[r],o[r]=!0);t=n!==!1&&pn(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Ra=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},Pa=t=>{if(!t)return null;if(ut(t))return t;let e=t.length;if(!$i(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Na=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&pn(Uint8Array)),Da=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=n.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},Ba=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},La=$e("HTMLFormElement"),Ma=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,n,i){return n.toUpperCase()+i}),On=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Ia=$e("RegExp"),Pi=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};Tt(n,(s,a)=>{let r;(r=e(s,a,t))!==!1&&(i[a]=r||s)}),Object.defineProperties(t,i)},ja=t=>{Pi(t,(e,n)=>{if(de(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(de(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},qa=(t,e)=>{const n={},i=s=>{s.forEach(a=>{n[a]=!0})};return ut(t)?i(t):i(String(t).split(e)),n},Ua=()=>{},Fa=(t,e)=>(t=+t,Number.isFinite(t)?t:e),Vt="abcdefghijklmnopqrstuvwxyz",Cn="0123456789",Ni={DIGIT:Cn,ALPHA:Vt,ALPHA_DIGIT:Vt+Vt.toUpperCase()+Cn},Ha=(t=16,e=Ni.ALPHA_DIGIT)=>{let n="";const{length:i}=e;for(;t--;)n+=e[Math.random()*i|0];return n};function Va(t){return!!(t&&de(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const za=t=>{const e=new Array(10),n=(i,s)=>{if(jt(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[s]=i;const a=ut(i)?[]:{};return Tt(i,(r,o)=>{const c=n(r,s+1);!yt(c)&&(a[o]=c)}),e[s]=void 0,a}}return i};return n(t,0)},Wa=$e("AsyncFunction"),Ka=t=>t&&(jt(t)||de(t))&&de(t.then)&&de(t.catch),w={isArray:ut,isArrayBuffer:Ei,isBuffer:ma,isFormData:Sa,isArrayBufferView:da,isString:ga,isNumber:$i,isBoolean:ba,isObject:jt,isPlainObject:Rt,isUndefined:yt,isDate:wa,isFile:_a,isBlob:ka,isRegExp:Ia,isFunction:de,isStream:va,isURLSearchParams:Ta,isTypedArray:Na,isFileList:ya,forEach:Tt,merge:Zt,extend:Ea,trim:Aa,stripBOM:$a,inherits:Oa,toFlatObject:Ca,kindOf:Mt,kindOfTest:$e,endsWith:Ra,toArray:Pa,forEachEntry:Da,matchAll:Ba,isHTMLForm:La,hasOwnProperty:On,hasOwnProp:On,reduceDescriptors:Pi,freezeMethods:ja,toObjectSet:qa,toCamelCase:Ma,noop:Ua,toFiniteNumber:Fa,findKey:Oi,global:Ci,isContextDefined:Ri,ALPHABET:Ni,generateString:Ha,isSpecCompliantForm:Va,toJSONObject:za,isAsyncFn:Wa,isThenable:Ka};function F(t,e,n,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),s&&(this.response=s)}w.inherits(F,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:w.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Di=F.prototype,Bi={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Bi[t]={value:t}});Object.defineProperties(F,Bi);Object.defineProperty(Di,"isAxiosError",{value:!0});F.from=(t,e,n,i,s,a)=>{const r=Object.create(Di);return w.toFlatObject(t,r,function(o){return o!==Error.prototype},o=>o!=="isAxiosError"),F.call(r,t.message,e,n,i,s),r.cause=t,r.name=t.name,a&&Object.assign(r,a),r};const xa=null;function Qt(t){return w.isPlainObject(t)||w.isArray(t)}function Li(t){return w.endsWith(t,"[]")?t.slice(0,-2):t}function Rn(t,e,n){return t?t.concat(e).map(function(i,s){return i=Li(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function Ga(t){return w.isArray(t)&&!t.some(Qt)}const Ja=w.toFlatObject(w,{},null,function(t){return/^is[A-Z]/.test(t)});function qt(t,e,n){if(!w.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=w.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(f,u){return!w.isUndefined(u[f])});const i=n.metaTokens,s=n.visitor||p,a=n.dots,r=n.indexes,o=(n.Blob||typeof Blob<"u"&&Blob)&&w.isSpecCompliantForm(e);if(!w.isFunction(s))throw new TypeError("visitor must be a function");function c(f){if(f===null)return"";if(w.isDate(f))return f.toISOString();if(!o&&w.isBlob(f))throw new F("Blob is not supported. Use a Buffer instead.");return w.isArrayBuffer(f)||w.isTypedArray(f)?o&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function p(f,u,h){let d=f;if(f&&!h&&typeof f=="object"){if(w.endsWith(u,"{}"))u=i?u:u.slice(0,-2),f=JSON.stringify(f);else if(w.isArray(f)&&Ga(f)||(w.isFileList(f)||w.endsWith(u,"[]"))&&(d=w.toArray(f)))return u=Li(u),d.forEach(function(P,Q){!(w.isUndefined(P)||P===null)&&e.append(r===!0?Rn([u],Q,a):r===null?u:u+"[]",c(P))}),!1}return Qt(f)?!0:(e.append(Rn(h,u,a),c(f)),!1)}const l=[],b=Object.assign(Ja,{defaultVisitor:p,convertValue:c,isVisitable:Qt});function m(f,u){if(!w.isUndefined(f)){if(l.indexOf(f)!==-1)throw Error("Circular reference detected in "+u.join("."));l.push(f),w.forEach(f,function(h,d){(!(w.isUndefined(h)||h===null)&&s.call(e,h,w.isString(d)?d.trim():d,u,b))===!0&&m(h,u?u.concat(d):[d])}),l.pop()}}if(!w.isObject(t))throw new TypeError("data must be an object");return m(t),e}function Pn(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function mn(t,e){this._pairs=[],t&&qt(t,this,e)}const Mi=mn.prototype;Mi.append=function(t,e){this._pairs.push([t,e])};Mi.toString=function(t){const e=t?function(n){return t.call(this,n,Pn)}:Pn;return this._pairs.map(function(n){return e(n[0])+"="+e(n[1])},"").join("&")};function Ya(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ii(t,e,n){if(!e)return t;const i=n&&n.encode||Ya,s=n&&n.serialize;let a;if(s?a=s(e,n):a=w.isURLSearchParams(e)?e.toString():new mn(e,n).toString(i),a){const r=t.indexOf("#");r!==-1&&(t=t.slice(0,r)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class Nn{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){w.forEach(this.handlers,function(n){n!==null&&e(n)})}}const ji={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Xa=typeof URLSearchParams<"u"?URLSearchParams:mn,Za=typeof FormData<"u"?FormData:null,Qa=typeof Blob<"u"?Blob:null,er={isBrowser:!0,classes:{URLSearchParams:Xa,FormData:Za,Blob:Qa},protocols:["http","https","file","blob","url","data"]},qi=typeof window<"u"&&typeof document<"u",tr=(t=>qi&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),nr=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ir=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:qi,hasStandardBrowserEnv:tr,hasStandardBrowserWebWorkerEnv:nr},Symbol.toStringTag,{value:"Module"})),Ee={...ir,...er};function sr(t,e){return qt(t,new Ee.classes.URLSearchParams,Object.assign({visitor:function(n,i,s,a){return Ee.isNode&&w.isBuffer(n)?(this.append(i,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function ar(t){return w.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function rr(t){const e={},n=Object.keys(t);let i;const s=n.length;let a;for(i=0;i<s;i++)a=n[i],e[a]=t[a];return e}function Ui(t){function e(n,i,s,a){let r=n[a++];if(r==="__proto__")return!0;const o=Number.isFinite(+r),c=a>=n.length;return r=!r&&w.isArray(s)?s.length:r,c?(w.hasOwnProp(s,r)?s[r]=[s[r],i]:s[r]=i,!o):((!s[r]||!w.isObject(s[r]))&&(s[r]=[]),e(n,i,s[r],a)&&w.isArray(s[r])&&(s[r]=rr(s[r])),!o)}if(w.isFormData(t)&&w.isFunction(t.entries)){const n={};return w.forEachEntry(t,(i,s)=>{e(ar(i),s,n,0)}),n}return null}function or(t,e,n){if(w.isString(t))try{return(e||JSON.parse)(t),w.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const dn={transitional:ji,adapter:["xhr","http"],transformRequest:[function(t,e){const n=e.getContentType()||"",i=n.indexOf("application/json")>-1,s=w.isObject(t);if(s&&w.isHTMLForm(t)&&(t=new FormData(t)),w.isFormData(t))return i?JSON.stringify(Ui(t)):t;if(w.isArrayBuffer(t)||w.isBuffer(t)||w.isStream(t)||w.isFile(t)||w.isBlob(t))return t;if(w.isArrayBufferView(t))return t.buffer;if(w.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return sr(t,this.formSerializer).toString();if((a=w.isFileList(t))||n.indexOf("multipart/form-data")>-1){const r=this.env&&this.env.FormData;return qt(a?{"files[]":t}:t,r&&new r,this.formSerializer)}}return s||i?(e.setContentType("application/json",!1),or(t)):t}],transformResponse:[function(t){const e=this.transitional||dn.transitional,n=e&&e.forcedJSONParsing,i=this.responseType==="json";if(t&&w.isString(t)&&(n&&!this.responseType||i)){const s=!(e&&e.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(a){if(s)throw a.name==="SyntaxError"?F.from(a,F.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ee.classes.FormData,Blob:Ee.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};w.forEach(["delete","get","head","post","put","patch"],t=>{dn.headers[t]={}});const gn=dn,lr=w.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),cr=t=>{const e={};let n,i,s;return t&&t.split(`
`).forEach(function(a){s=a.indexOf(":"),n=a.substring(0,s).trim().toLowerCase(),i=a.substring(s+1).trim(),!(!n||e[n]&&lr[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},Dn=Symbol("internals");function gt(t){return t&&String(t).trim().toLowerCase()}function Pt(t){return t===!1||t==null?t:w.isArray(t)?t.map(Pt):String(t)}function ur(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const fr=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function zt(t,e,n,i,s){if(w.isFunction(i))return i.call(this,e,n);if(s&&(e=n),!!w.isString(e)){if(w.isString(i))return e.indexOf(i)!==-1;if(w.isRegExp(i))return i.test(e)}}function hr(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function pr(t,e){const n=w.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(s,a,r){return this[i].call(this,e,s,a,r)},configurable:!0})})}let Ut=class{constructor(t){t&&this.set(t)}set(t,e,n){const i=this;function s(r,o,c){const p=gt(o);if(!p)throw new Error("header name must be a non-empty string");const l=w.findKey(i,p);(!l||i[l]===void 0||c===!0||c===void 0&&i[l]!==!1)&&(i[l||o]=Pt(r))}const a=(r,o)=>w.forEach(r,(c,p)=>s(c,p,o));return w.isPlainObject(t)||t instanceof this.constructor?a(t,e):w.isString(t)&&(t=t.trim())&&!fr(t)?a(cr(t),e):t!=null&&s(e,t,n),this}get(t,e){if(t=gt(t),t){const n=w.findKey(this,t);if(n){const i=this[n];if(!e)return i;if(e===!0)return ur(i);if(w.isFunction(e))return e.call(this,i,n);if(w.isRegExp(e))return e.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=gt(t),t){const n=w.findKey(this,t);return!!(n&&this[n]!==void 0&&(!e||zt(this,this[n],n,e)))}return!1}delete(t,e){const n=this;let i=!1;function s(a){if(a=gt(a),a){const r=w.findKey(n,a);r&&(!e||zt(n,n[r],r,e))&&(delete n[r],i=!0)}}return w.isArray(t)?t.forEach(s):s(t),i}clear(t){const e=Object.keys(this);let n=e.length,i=!1;for(;n--;){const s=e[n];(!t||zt(this,this[s],s,t,!0))&&(delete this[s],i=!0)}return i}normalize(t){const e=this,n={};return w.forEach(this,(i,s)=>{const a=w.findKey(n,s);if(a){e[a]=Pt(i),delete e[s];return}const r=t?hr(s):String(s).trim();r!==s&&delete e[s],e[r]=Pt(i),n[r]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return w.forEach(this,(n,i)=>{n!=null&&n!==!1&&(e[i]=t&&w.isArray(n)?n.join(", "):n)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,e])=>t+": "+e).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const n=new this(t);return e.forEach(i=>n.set(i)),n}static accessor(t){const e=(this[Dn]=this[Dn]={accessors:{}}).accessors,n=this.prototype;function i(s){const a=gt(s);e[a]||(pr(n,s),e[a]=!0)}return w.isArray(t)?t.forEach(i):i(t),this}};Ut.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);w.reduceDescriptors(Ut.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});w.freezeMethods(Ut);const Ne=Ut;function Wt(t,e){const n=this||gn,i=e||n,s=Ne.from(i.headers);let a=i.data;return w.forEach(t,function(r){a=r.call(n,a,s.normalize(),e?e.status:void 0)}),s.normalize(),a}function Fi(t){return!!(t&&t.__CANCEL__)}function At(t,e,n){F.call(this,t??"canceled",F.ERR_CANCELED,e,n),this.name="CanceledError"}w.inherits(At,F,{__CANCEL__:!0});function mr(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new F("Request failed with status code "+n.status,[F.ERR_BAD_REQUEST,F.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const dr=Ee.hasStandardBrowserEnv?{write(t,e,n,i,s,a){const r=[t+"="+encodeURIComponent(e)];w.isNumber(n)&&r.push("expires="+new Date(n).toGMTString()),w.isString(i)&&r.push("path="+i),w.isString(s)&&r.push("domain="+s),a===!0&&r.push("secure"),document.cookie=r.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function gr(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function br(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Hi(t,e){return t&&!gr(e)?br(t,e):e}const wr=Ee.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");let n;function i(s){let a=s;return t&&(e.setAttribute("href",a),a=e.href),e.setAttribute("href",a),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:e.pathname.charAt(0)==="/"?e.pathname:"/"+e.pathname}}return n=i(window.location.href),function(s){const a=w.isString(s)?i(s):s;return a.protocol===n.protocol&&a.host===n.host}}():function(){return function(){return!0}}();function _r(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function kr(t,e){t=t||10;const n=new Array(t),i=new Array(t);let s=0,a=0,r;return e=e!==void 0?e:1e3,function(o){const c=Date.now(),p=i[a];r||(r=c),n[s]=o,i[s]=c;let l=a,b=0;for(;l!==s;)b+=n[l++],l=l%t;if(s=(s+1)%t,s===a&&(a=(a+1)%t),c-r<e)return;const m=p&&c-p;return m?Math.round(b*1e3/m):void 0}}function Bn(t,e){let n=0;const i=kr(50,250);return s=>{const a=s.loaded,r=s.lengthComputable?s.total:void 0,o=a-n,c=i(o),p=a<=r;n=a;const l={loaded:a,total:r,progress:r?a/r:void 0,bytes:o,rate:c||void 0,estimated:c&&r&&p?(r-a)/c:void 0,event:s};l[e?"download":"upload"]=!0,t(l)}}const yr=typeof XMLHttpRequest<"u",vr=yr&&function(t){return new Promise(function(e,n){let i=t.data;const s=Ne.from(t.headers).normalize();let{responseType:a,withXSRFToken:r}=t,o;function c(){t.cancelToken&&t.cancelToken.unsubscribe(o),t.signal&&t.signal.removeEventListener("abort",o)}let p;if(w.isFormData(i)){if(Ee.hasStandardBrowserEnv||Ee.hasStandardBrowserWebWorkerEnv)s.setContentType(!1);else if((p=s.getContentType())!==!1){const[u,...h]=p?p.split(";").map(d=>d.trim()).filter(Boolean):[];s.setContentType([u||"multipart/form-data",...h].join("; "))}}let l=new XMLHttpRequest;if(t.auth){const u=t.auth.username||"",h=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(u+":"+h))}const b=Hi(t.baseURL,t.url);l.open(t.method.toUpperCase(),Ii(b,t.params,t.paramsSerializer),!0),l.timeout=t.timeout;function m(){if(!l)return;const u=Ne.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders()),h={data:!a||a==="text"||a==="json"?l.responseText:l.response,status:l.status,statusText:l.statusText,headers:u,config:t,request:l};mr(function(d){e(d),c()},function(d){n(d),c()},h),l=null}if("onloadend"in l?l.onloadend=m:l.onreadystatechange=function(){!l||l.readyState!==4||l.status===0&&!(l.responseURL&&l.responseURL.indexOf("file:")===0)||setTimeout(m)},l.onabort=function(){l&&(n(new F("Request aborted",F.ECONNABORTED,t,l)),l=null)},l.onerror=function(){n(new F("Network Error",F.ERR_NETWORK,t,l)),l=null},l.ontimeout=function(){let u=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const h=t.transitional||ji;t.timeoutErrorMessage&&(u=t.timeoutErrorMessage),n(new F(u,h.clarifyTimeoutError?F.ETIMEDOUT:F.ECONNABORTED,t,l)),l=null},Ee.hasStandardBrowserEnv&&(r&&w.isFunction(r)&&(r=r(t)),r||r!==!1&&wr(b))){const u=t.xsrfHeaderName&&t.xsrfCookieName&&dr.read(t.xsrfCookieName);u&&s.set(t.xsrfHeaderName,u)}i===void 0&&s.setContentType(null),"setRequestHeader"in l&&w.forEach(s.toJSON(),function(u,h){l.setRequestHeader(h,u)}),w.isUndefined(t.withCredentials)||(l.withCredentials=!!t.withCredentials),a&&a!=="json"&&(l.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&l.addEventListener("progress",Bn(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&l.upload&&l.upload.addEventListener("progress",Bn(t.onUploadProgress)),(t.cancelToken||t.signal)&&(o=u=>{l&&(n(!u||u.type?new At(null,t,l):u),l.abort(),l=null)},t.cancelToken&&t.cancelToken.subscribe(o),t.signal&&(t.signal.aborted?o():t.signal.addEventListener("abort",o)));const f=_r(b);if(f&&Ee.protocols.indexOf(f)===-1){n(new F("Unsupported protocol "+f+":",F.ERR_BAD_REQUEST,t));return}l.send(i||null)})},en={http:xa,xhr:vr};w.forEach(en,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Ln=t=>`- ${t}`,Sr=t=>w.isFunction(t)||t===null||t===!1,Vi={getAdapter:t=>{t=w.isArray(t)?t:[t];const{length:e}=t;let n,i;const s={};for(let a=0;a<e;a++){n=t[a];let r;if(i=n,!Sr(n)&&(i=en[(r=String(n)).toLowerCase()],i===void 0))throw new F(`Unknown adapter '${r}'`);if(i)break;s[r||"#"+a]=i}if(!i){const a=Object.entries(s).map(([o,c])=>`adapter ${o} `+(c===!1?"is not supported by the environment":"is not available in the build"));let r=e?a.length>1?`since :
`+a.map(Ln).join(`
`):" "+Ln(a[0]):"as no adapter specified";throw new F("There is no suitable adapter to dispatch the request "+r,"ERR_NOT_SUPPORT")}return i},adapters:en};function Kt(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new At(null,t)}function Mn(t){return Kt(t),t.headers=Ne.from(t.headers),t.data=Wt.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Vi.getAdapter(t.adapter||gn.adapter)(t).then(function(e){return Kt(t),e.data=Wt.call(t,t.transformResponse,e),e.headers=Ne.from(e.headers),e},function(e){return Fi(e)||(Kt(t),e&&e.response&&(e.response.data=Wt.call(t,t.transformResponse,e.response),e.response.headers=Ne.from(e.response.headers))),Promise.reject(e)})}const In=t=>t instanceof Ne?{...t}:t;function ot(t,e){e=e||{};const n={};function i(p,l,b){return w.isPlainObject(p)&&w.isPlainObject(l)?w.merge.call({caseless:b},p,l):w.isPlainObject(l)?w.merge({},l):w.isArray(l)?l.slice():l}function s(p,l,b){if(w.isUndefined(l)){if(!w.isUndefined(p))return i(void 0,p,b)}else return i(p,l,b)}function a(p,l){if(!w.isUndefined(l))return i(void 0,l)}function r(p,l){if(w.isUndefined(l)){if(!w.isUndefined(p))return i(void 0,p)}else return i(void 0,l)}function o(p,l,b){if(b in e)return i(p,l);if(b in t)return i(void 0,p)}const c={url:a,method:a,data:a,baseURL:r,transformRequest:r,transformResponse:r,paramsSerializer:r,timeout:r,timeoutMessage:r,withCredentials:r,withXSRFToken:r,adapter:r,responseType:r,xsrfCookieName:r,xsrfHeaderName:r,onUploadProgress:r,onDownloadProgress:r,decompress:r,maxContentLength:r,maxBodyLength:r,beforeRedirect:r,transport:r,httpAgent:r,httpsAgent:r,cancelToken:r,socketPath:r,responseEncoding:r,validateStatus:o,headers:(p,l)=>s(In(p),In(l),!0)};return w.forEach(Object.keys(Object.assign({},t,e)),function(p){const l=c[p]||s,b=l(t[p],e[p],p);w.isUndefined(b)&&l!==o||(n[p]=b)}),n}const zi="1.6.8",bn={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{bn[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const jn={};bn.transitional=function(t,e,n){function i(s,a){return"[Axios v"+zi+"] Transitional option '"+s+"'"+a+(n?". "+n:"")}return(s,a,r)=>{if(t===!1)throw new F(i(a," has been removed"+(e?" in "+e:"")),F.ERR_DEPRECATED);return e&&!jn[a]&&(jn[a]=!0,console.warn(i(a," has been deprecated since v"+e+" and will be removed in the near future"))),t?t(s,a,r):!0}};function Tr(t,e,n){if(typeof t!="object")throw new F("options must be an object",F.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let s=i.length;for(;s-- >0;){const a=i[s],r=e[a];if(r){const o=t[a],c=o===void 0||r(o,a,t);if(c!==!0)throw new F("option "+a+" must be "+c,F.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new F("Unknown option "+a,F.ERR_BAD_OPTION)}}const tn={assertOptions:Tr,validators:bn},qe=tn.validators;let Bt=class{constructor(t){this.defaults=t,this.interceptors={request:new Nn,response:new Nn}}async request(t,e){try{return await this._request(t,e)}catch(n){if(n instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}throw n}}_request(t,e){typeof t=="string"?(e=e||{},e.url=t):e=t||{},e=ot(this.defaults,e);const{transitional:n,paramsSerializer:i,headers:s}=e;n!==void 0&&tn.assertOptions(n,{silentJSONParsing:qe.transitional(qe.boolean),forcedJSONParsing:qe.transitional(qe.boolean),clarifyTimeoutError:qe.transitional(qe.boolean)},!1),i!=null&&(w.isFunction(i)?e.paramsSerializer={serialize:i}:tn.assertOptions(i,{encode:qe.function,serialize:qe.function},!0)),e.method=(e.method||this.defaults.method||"get").toLowerCase();let a=s&&w.merge(s.common,s[e.method]);s&&w.forEach(["delete","get","head","post","put","patch","common"],f=>{delete s[f]}),e.headers=Ne.concat(a,s);const r=[];let o=!0;this.interceptors.request.forEach(function(f){typeof f.runWhen=="function"&&f.runWhen(e)===!1||(o=o&&f.synchronous,r.unshift(f.fulfilled,f.rejected))});const c=[];this.interceptors.response.forEach(function(f){c.push(f.fulfilled,f.rejected)});let p,l=0,b;if(!o){const f=[Mn.bind(this),void 0];for(f.unshift.apply(f,r),f.push.apply(f,c),b=f.length,p=Promise.resolve(e);l<b;)p=p.then(f[l++],f[l++]);return p}b=r.length;let m=e;for(l=0;l<b;){const f=r[l++],u=r[l++];try{m=f(m)}catch(h){u.call(this,h);break}}try{p=Mn.call(this,m)}catch(f){return Promise.reject(f)}for(l=0,b=c.length;l<b;)p=p.then(c[l++],c[l++]);return p}getUri(t){t=ot(this.defaults,t);const e=Hi(t.baseURL,t.url);return Ii(e,t.params,t.paramsSerializer)}};w.forEach(["delete","get","head","options"],function(t){Bt.prototype[t]=function(e,n){return this.request(ot(n||{},{method:t,url:e,data:(n||{}).data}))}});w.forEach(["post","put","patch"],function(t){function e(n){return function(i,s,a){return this.request(ot(a||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:s}))}}Bt.prototype[t]=e(),Bt.prototype[t+"Form"]=e(!0)});const Nt=Bt;let Ar=class Wi{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const i=this;this.promise.then(s=>{if(!i._listeners)return;let a=i._listeners.length;for(;a-- >0;)i._listeners[a](s);i._listeners=null}),this.promise.then=s=>{let a;const r=new Promise(o=>{i.subscribe(o),a=o}).then(s);return r.cancel=function(){i.unsubscribe(a)},r},e(function(s,a,r){i.reason||(i.reason=new At(s,a,r),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new Wi(function(n){e=n}),cancel:e}}};const Er=Ar;function $r(t){return function(e){return t.apply(null,e)}}function Or(t){return w.isObject(t)&&t.isAxiosError===!0}const nn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(nn).forEach(([t,e])=>{nn[e]=t});const Cr=nn;function Ki(t){const e=new Nt(t),n=Ai(Nt.prototype.request,e);return w.extend(n,Nt.prototype,e,{allOwnKeys:!0}),w.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return Ki(ot(t,i))},n}const ee=Ki(gn);ee.Axios=Nt;ee.CanceledError=At;ee.CancelToken=Er;ee.isCancel=Fi;ee.VERSION=zi;ee.toFormData=qt;ee.AxiosError=F;ee.Cancel=ee.CanceledError;ee.all=function(t){return Promise.all(t)};ee.spread=$r;ee.isAxiosError=Or;ee.mergeConfig=ot;ee.AxiosHeaders=Ne;ee.formToJSON=t=>Ui(w.isHTMLForm(t)?new FormData(t):t);ee.getAdapter=Vi.getAdapter;ee.HttpStatusCode=Cr;ee.default=ee;const{Axios:Yl,AxiosError:Xl,CanceledError:Zl,isCancel:Ql,CancelToken:ec,VERSION:tc,all:nc,Cancel:ic,isAxiosError:sc,spread:ac,toFormData:rc,AxiosHeaders:oc,HttpStatusCode:Ct,formToJSON:lc,getAdapter:cc,mergeConfig:uc}=ee;var nt=null;typeof WebSocket<"u"?nt=WebSocket:typeof MozWebSocket<"u"?nt=MozWebSocket:typeof global<"u"?nt=global.WebSocket||global.MozWebSocket:typeof window<"u"?nt=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(nt=self.WebSocket||self.MozWebSocket);const Rr=nt,xt={SCHEMA_DIR_RELATIVE_PATH:"./../schemas/",SCHEMA_FILENAME_PAYLOAD:"payload.schema.json",SCHEMA_FILENAME_RESPONSE:"response.schema.json",SIYUAN_DEFAULT_BASE_URL:"http://localhost:6806/",SIYUAN_DEFAULT_TOKEN:"",REQUEST_TIMEOUT:6e4};var qn,Un,Fn,Hn,Vn;const sn=class g{constructor(e={},n="xhr"){ye(this,"_type","xhr"),ye(this,"_baseURL",((Un=(qn=globalThis.top)==null?void 0:qn.document)==null?void 0:Un.baseURI)??((Hn=(Fn=globalThis.parent)==null?void 0:Fn.document)==null?void 0:Hn.baseURI)??((Vn=globalThis.location)==null?void 0:Vn.origin)??xt.SIYUAN_DEFAULT_BASE_URL),ye(this,"_token",xt.SIYUAN_DEFAULT_TOKEN),ye(this,"_axios",ee.create({baseURL:this._baseURL,timeout:xt.REQUEST_TIMEOUT,headers:{Authorization:`Token ${this._token}`}})),ye(this,"_fetch",ua.create({baseURL:this._baseURL,headers:{Authorization:`Token ${this._token}`}})),this._setClientType(n),this._updateOptions(e,n)}static headers2record(e){const n={};return e.forEach((i,s)=>{n[s]=i}),n}static entries2record(e){const n={};for(const[i,s]of e)n[i]=s;return n}_setClientType(e){this._type=e}_updateOptions(e,n=this._type){switch(this._token=e.token??this._token,this._baseURL=e.baseURL??this._baseURL,n){case"fetch":const i=e;if(i.token){const s="Authorization",a=`Token ${e.token}`;Array.isArray(i.headers)?i.headers.push([s,a]):i.headers instanceof Headers?i.headers.set(s,a):typeof i.headers=="object"?i.headers[s]=a:i.headers={[s]:a},delete e.token}this._fetch=this._fetch.create(i);break;case"xhr":default:for(const[s,a]of Object.entries(e))switch(s){case"token":this._axios.defaults.headers.Authorization=`Token ${this._token}`;break;default:this._axios.defaults[s]=a;break}break}this._baseURL=e.baseURL??this._baseURL}broadcast(e,n,i){const s=(i==null?void 0:i.baseURL)??this._baseURL,a=(i==null?void 0:i.token)??this._token,r=new URLSearchParams(e);a&&r.set("token",a);const o=new URL(s);return o.protocol=o.protocol.replace(/^http/,"ws"),o.pathname=o.pathname.endsWith("/")?`${o.pathname}${g.ws.broadcast.pathname.substring(1)}`:`${o.pathname}${g.ws.broadcast.pathname}`,o.search=r.toString(),new Rr(o,n)}async upload(e,n){const i=new FormData;return i.append("assetsDirPath",e.assetsDirPath??"/assets/"),e.files.forEach(s=>i.append("file[]",s)),await this._request(g.api.asset.upload.pathname,g.api.asset.upload.method,i,n)}async getBlockAttrs(e,n){return await this._request(g.api.attr.getBlockAttrs.pathname,g.api.attr.getBlockAttrs.method,e,n)}async getBookmarkLabels(e){return await this._request(g.api.attr.getBookmarkLabels.pathname,g.api.attr.getBookmarkLabels.method,void 0,e)}async setBlockAttrs(e,n){return await this._request(g.api.attr.setBlockAttrs.pathname,g.api.attr.setBlockAttrs.method,e,n)}async appendBlock(e,n){return await this._request(g.api.block.appendBlock.pathname,g.api.block.appendBlock.method,e,n)}async deleteBlock(e,n){return await this._request(g.api.block.deleteBlock.pathname,g.api.block.deleteBlock.method,e,n)}async getBlockBreadcrumb(e,n){return await this._request(g.api.block.getBlockBreadcrumb.pathname,g.api.block.getBlockBreadcrumb.method,e,n)}async getBlockDOM(e,n){return await this._request(g.api.block.getBlockDOM.pathname,g.api.block.getBlockDOM.method,e,n)}async getBlockInfo(e,n){return await this._request(g.api.block.getBlockInfo.pathname,g.api.block.getBlockInfo.method,e,n)}async getBlockKramdown(e,n){return await this._request(g.api.block.getBlockKramdown.pathname,g.api.block.getBlockKramdown.method,e,n)}async getChildBlocks(e,n){return await this._request(g.api.block.getChildBlocks.pathname,g.api.block.getChildBlocks.method,e,n)}async getDocInfo(e,n){return await this._request(g.api.block.getDocInfo.pathname,g.api.block.getDocInfo.method,e,n)}async insertBlock(e,n){return await this._request(g.api.block.insertBlock.pathname,g.api.block.insertBlock.method,e,n)}async moveBlock(e,n){return await this._request(g.api.block.moveBlock.pathname,g.api.block.moveBlock.method,e,n)}async prependBlock(e,n){return await this._request(g.api.block.prependBlock.pathname,g.api.block.prependBlock.method,e,n)}async transferBlockRef(e,n){return await this._request(g.api.block.transferBlockRef.pathname,g.api.block.transferBlockRef.method,e,n)}async updateBlock(e,n){return await this._request(g.api.block.updateBlock.pathname,g.api.block.updateBlock.method,e,n)}async getChannelInfo(e,n){return await this._request(g.api.broadcast.getChannelInfo.pathname,g.api.broadcast.getChannelInfo.method,e,n)}async getChannels(e){return await this._request(g.api.broadcast.getChannels.pathname,g.api.broadcast.getChannels.method,void 0,e)}async postMessage(e,n){return await this._request(g.api.broadcast.postMessage.pathname,g.api.broadcast.postMessage.method,e,n)}async pandoc(e,n){return await this._request(g.api.convert.pandoc.pathname,g.api.convert.pandoc.method,e,n)}async exportResources(e,n){return await this._request(g.api.export.exportResources.pathname,g.api.export.exportResources.method,e,n)}async exportMdContent(e,n){return await this._request(g.api.export.exportMdContent.pathname,g.api.export.exportMdContent.method,e,n)}async getFile(e,n="text",i){return await this._request(g.api.file.getFile.pathname,g.api.file.getFile.method,e,i,!1,n)}async putFile(e,n){e.file!==void 0&&!(e.file instanceof File)&&(e.file=new File([e.file],e.path.split("/").pop()));const i=new FormData;for(const[s,a]of Object.entries(e))e.hasOwnProperty(s)&&(a instanceof Blob?i.append(s,a):i.append(s,String(a)));return await this._request(g.api.file.putFile.pathname,g.api.file.putFile.method,i,n)}async readDir(e,n){return await this._request(g.api.file.readDir.pathname,g.api.file.readDir.method,e,n)}async removeFile(e,n){return await this._request(g.api.file.removeFile.pathname,g.api.file.removeFile.method,e,n)}async renameFile(e,n){return await this._request(g.api.file.renameFile.pathname,g.api.file.renameFile.method,e,n)}async createDailyNote(e,n){return await this._request(g.api.filetree.createDailyNote.pathname,g.api.filetree.createDailyNote.method,e,n)}async createDocWithMd(e,n){return await this._request(g.api.filetree.createDocWithMd.pathname,g.api.filetree.createDocWithMd.method,e,n)}async getDoc(e,n){return await this._request(g.api.filetree.getDoc.pathname,g.api.filetree.getDoc.method,e,n)}async getHPathByID(e,n){return await this._request(g.api.filetree.getHPathByID.pathname,g.api.filetree.getHPathByID.method,e,n)}async getHPathByPath(e,n){return await this._request(g.api.filetree.getHPathByPath.pathname,g.api.filetree.getHPathByPath.method,e,n)}async getIDsByHPath(e,n){return await this._request(g.api.filetree.getIDsByHPath.pathname,g.api.filetree.getIDsByHPath.method,e,n)}async listDocsByPath(e,n){return await this._request(g.api.filetree.listDocsByPath.pathname,g.api.filetree.listDocsByPath.method,e,n)}async moveDocs(e,n){return await this._request(g.api.filetree.moveDocs.pathname,g.api.filetree.moveDocs.method,e,n)}async removeDoc(e,n){return await this._request(g.api.filetree.removeDoc.pathname,g.api.filetree.removeDoc.method,e,n)}async renameDoc(e,n){return await this._request(g.api.filetree.renameDoc.pathname,g.api.filetree.renameDoc.method,e,n)}async searchDocs(e,n){return await this._request(g.api.filetree.searchDocs.pathname,g.api.filetree.searchDocs.method,e,n)}async getDocHistoryContent(e,n){return await this._request(g.api.history.getDocHistoryContent.pathname,g.api.history.getDocHistoryContent.method,e,n)}async getHistoryItems(e,n){return await this._request(g.api.history.getHistoryItems.pathname,g.api.history.getHistoryItems.method,e,n)}async getShorthand(e,n){return await this._request(g.api.inbox.getShorthand.pathname,g.api.inbox.getShorthand.method,e,n)}async echo(e,n){if(e)switch(n??(n={type:this._type}),n==null?void 0:n.type){case"fetch":{const i={};e.headers&&(i.headers=e.headers),e.query&&(i.query=g.entries2record(e.query.entries())),n.options?Object.assign(i,n.options):n.options=i;break}case"xhr":{const i={};e.headers&&(i.headers=Array.isArray(e.headers)?g.entries2record(e.headers):e.headers instanceof Headers?g.headers2record(e.headers):e.headers),e.query&&(i.params=e.query),n.options?Object.assign(i,n.options):n.options=i;break}}return await this._request(g.api.network.echo.pathname,(e==null?void 0:e.method)??g.api.network.echo.method,e==null?void 0:e.body,n)}async forwardProxy(e,n){return await this._request(g.api.network.forwardProxy.pathname,g.api.network.forwardProxy.method,e,n)}async closeNotebook(e,n){return await this._request(g.api.notebook.closeNotebook.pathname,g.api.notebook.closeNotebook.method,e,n)}async createNotebook(e,n){return await this._request(g.api.notebook.createNotebook.pathname,g.api.notebook.createNotebook.method,e,n)}async getNotebookConf(e,n){return await this._request(g.api.notebook.getNotebookConf.pathname,g.api.notebook.getNotebookConf.method,e,n)}async lsNotebooks(e){return await this._request(g.api.notebook.lsNotebooks.pathname,g.api.notebook.lsNotebooks.method,void 0,e)}async openNotebook(e,n){return await this._request(g.api.notebook.openNotebook.pathname,g.api.notebook.openNotebook.method,e,n)}async removeNotebook(e,n){return await this._request(g.api.notebook.removeNotebook.pathname,g.api.notebook.removeNotebook.method,e,n)}async renameNotebook(e,n){return await this._request(g.api.notebook.renameNotebook.pathname,g.api.notebook.renameNotebook.method,e,n)}async setNotebookConf(e,n){return await this._request(g.api.notebook.setNotebookConf.pathname,g.api.notebook.setNotebookConf.method,e,n)}async pushErrMsg(e,n){return await this._request(g.api.notification.pushErrMsg.pathname,g.api.notification.pushErrMsg.method,e,n)}async pushMsg(e,n){return await this._request(g.api.notification.pushMsg.pathname,g.api.notification.pushMsg.method,e,n)}async getDocOutline(e,n){return await this._request(g.api.outline.getDocOutline.pathname,g.api.outline.getDocOutline.method,e,n)}async sql(e,n){return await this._request(g.api.query.sql.pathname,g.api.query.sql.method,e,n)}async openRepoSnapshotDoc(e,n){return await this._request(g.api.repo.openRepoSnapshotDoc.pathname,g.api.repo.openRepoSnapshotDoc.method,e,n)}async fullTextSearchBlock(e,n){return await this._request(g.api.search.fullTextSearchBlock.pathname,g.api.search.fullTextSearchBlock.method,e,n)}async getSnippet(e,n){return await this._request(g.api.snippet.getSnippet.pathname,g.api.snippet.getSnippet.method,e,n)}async setSnippet(e,n){return await this._request(g.api.snippet.setSnippet.pathname,g.api.snippet.setSnippet.method,e,n)}async flushTransaction(e){return await this._request(g.api.sqlite.flushTransaction.pathname,g.api.sqlite.flushTransaction.method,e)}async getLocalStorage(e){return await this._request(g.api.storage.getLocalStorage.pathname,g.api.storage.getLocalStorage.method,void 0,e)}async getRecentDocs(e){return await this._request(g.api.storage.getRecentDocs.pathname,g.api.storage.getRecentDocs.method,void 0,e)}async setLocalStorage(e,n){return await this._request(g.api.storage.setLocalStorage.pathname,g.api.storage.setLocalStorage.method,e,n)}async setLocalStorageVal(e,n){return await this._request(g.api.storage.setLocalStorageVal.pathname,g.api.storage.setLocalStorageVal.method,e,n)}async bootProgress(e){return await this._request(g.api.system.bootProgress.pathname,g.api.system.bootProgress.method,void 0,e)}async currentTime(e){return await this._request(g.api.system.currentTime.pathname,g.api.system.currentTime.method,void 0,e)}async getConf(e){return await this._request(g.api.system.getConf.pathname,g.api.system.getConf.method,void 0,e)}async logoutAuth(e){return await this._request(g.api.system.logoutAuth.pathname,g.api.system.logoutAuth.method,void 0,e)}async version(e){return await this._request(g.api.system.version.pathname,g.api.system.version.method,void 0,e)}async render(e,n){return await this._request(g.api.template.render.pathname,g.api.template.render.method,e,n)}async renderSprig(e,n){return await this._request(g.api.template.renderSprig.pathname,g.api.template.renderSprig.method,e,n)}async _request(e,n,i,s,a=!0,r="json"){try{switch((s==null?void 0:s.type)??this._type){case"fetch":{const o=s==null?void 0:s.options;r=(()=>{switch(r){case"arraybuffer":return"arrayBuffer";case"document":return"text";default:return r}})();const c=await this._fetch(e,{method:n,body:i,responseType:r,onResponse:async p=>{switch(p.response.status){case Ct.Ok:switch(r){case"blob":p.response._data.contentType=p.response.headers.get("content-type");break;default:break}break;case Ct.Accepted:e===g.api.file.getFile.pathname&&this._parseFetchResponse(p.response._data);break;default:break}},...o});return a&&r==="json"&&typeof c=="object"?this._parseFetchResponse(c):c}case"xhr":default:{const o=s==null?void 0:s.options;r=(()=>{switch(r){case"arrayBuffer":return"arraybuffer";default:return r}})();const c=await this._axios.request({url:e,method:n,data:i,responseType:r,...o});switch(c.status){case Ct.Ok:if(a&&r==="json"&&typeof c.data=="object")return this._parseAxiosResponse(c);switch(r){case"blob":c.data.contentType=c.headers.getContentType();break;default:break}return c.data;case Ct.Accepted:return e===g.api.file.getFile.pathname?this._parseAxiosResponse(c):c.data;default:throw new fa(c)}}}}catch(o){throw o}}_parseFetchResponse(e){if(e.code===0)return e;throw new En(e)}_parseAxiosResponse(e){if(e.data.code===0)return e.data;throw new En(e.data,e)}};ye(sn,"ws",{broadcast:{pathname:"/ws/broadcast"}}),ye(sn,"api",{asset:{upload:{pathname:"/api/asset/upload",method:"POST"}},attr:{getBlockAttrs:{pathname:"/api/attr/getBlockAttrs",method:"POST"},getBookmarkLabels:{pathname:"/api/attr/getBookmarkLabels",method:"POST"},setBlockAttrs:{pathname:"/api/attr/setBlockAttrs",method:"POST"}},block:{appendBlock:{pathname:"/api/block/appendBlock",method:"POST"},deleteBlock:{pathname:"/api/block/deleteBlock",method:"POST"},getBlockBreadcrumb:{pathname:"/api/block/getBlockBreadcrumb",method:"POST"},getBlockDOM:{pathname:"/api/block/getBlockDOM",method:"POST"},getBlockInfo:{pathname:"/api/block/getBlockInfo",method:"POST"},getBlockKramdown:{pathname:"/api/block/getBlockKramdown",method:"POST"},getChildBlocks:{pathname:"/api/block/getChildBlocks",method:"POST"},getDocInfo:{pathname:"/api/block/getDocInfo",method:"POST"},insertBlock:{pathname:"/api/block/insertBlock",method:"POST"},moveBlock:{pathname:"/api/block/moveBlock",method:"POST"},prependBlock:{pathname:"/api/block/prependBlock",method:"POST"},transferBlockRef:{pathname:"/api/block/transferBlockRef",method:"POST"},updateBlock:{pathname:"/api/block/updateBlock",method:"POST"}},broadcast:{getChannelInfo:{pathname:"/api/broadcast/getChannelInfo",method:"POST"},getChannels:{pathname:"/api/broadcast/getChannels",method:"POST"},postMessage:{pathname:"/api/broadcast/postMessage",method:"POST"}},convert:{pandoc:{pathname:"/api/convert/pandoc",method:"POST"}},export:{exportMdContent:{pathname:"/api/export/exportMdContent",method:"POST"},exportResources:{pathname:"/api/export/exportResources",method:"POST"}},file:{getFile:{pathname:"/api/file/getFile",method:"POST"},putFile:{pathname:"/api/file/putFile",method:"POST"},readDir:{pathname:"/api/file/readDir",method:"POST"},removeFile:{pathname:"/api/file/removeFile",method:"POST"},renameFile:{pathname:"/api/file/renameFile",method:"POST"}},filetree:{createDailyNote:{pathname:"/api/filetree/createDailyNote",method:"POST"},createDocWithMd:{pathname:"/api/filetree/createDocWithMd",method:"POST"},getDoc:{pathname:"/api/filetree/getDoc",method:"POST"},getHPathByID:{pathname:"/api/filetree/getHPathByID",method:"POST"},getHPathByPath:{pathname:"/api/filetree/getHPathByPath",method:"POST"},getIDsByHPath:{pathname:"/api/filetree/getIDsByHPath",method:"POST"},listDocsByPath:{pathname:"/api/filetree/listDocsByPath",method:"POST"},moveDocs:{pathname:"/api/filetree/moveDocs",method:"POST"},removeDoc:{pathname:"/api/filetree/removeDoc",method:"POST"},renameDoc:{pathname:"/api/filetree/renameDoc",method:"POST"},searchDocs:{pathname:"/api/filetree/searchDocs",method:"POST"}},history:{getDocHistoryContent:{pathname:"/api/history/getDocHistoryContent",method:"POST"},getHistoryItems:{pathname:"/api/history/getHistoryItems",method:"POST"}},inbox:{getShorthand:{pathname:"/api/inbox/getShorthand",method:"POST"}},network:{echo:{pathname:"/api/network/echo",method:"POST"},forwardProxy:{pathname:"/api/network/forwardProxy",method:"POST"}},notebook:{closeNotebook:{pathname:"/api/notebook/closeNotebook",method:"POST"},createNotebook:{pathname:"/api/notebook/createNotebook",method:"POST"},getNotebookConf:{pathname:"/api/notebook/getNotebookConf",method:"POST"},lsNotebooks:{pathname:"/api/notebook/lsNotebooks",method:"POST"},openNotebook:{pathname:"/api/notebook/openNotebook",method:"POST"},removeNotebook:{pathname:"/api/notebook/removeNotebook",method:"POST"},renameNotebook:{pathname:"/api/notebook/renameNotebook",method:"POST"},setNotebookConf:{pathname:"/api/notebook/setNotebookConf",method:"POST"}},notification:{pushErrMsg:{pathname:"/api/notification/pushErrMsg",method:"POST"},pushMsg:{pathname:"/api/notification/pushMsg",method:"POST"}},outline:{getDocOutline:{pathname:"/api/outline/getDocOutline",method:"POST"}},query:{sql:{pathname:"/api/query/sql",method:"POST"}},repo:{openRepoSnapshotDoc:{pathname:"/api/repo/openRepoSnapshotDoc",method:"POST"}},search:{fullTextSearchBlock:{pathname:"/api/search/fullTextSearchBlock",method:"POST"}},snippet:{getSnippet:{pathname:"/api/snippet/getSnippet",method:"POST"},setSnippet:{pathname:"/api/snippet/setSnippet",method:"POST"}},sqlite:{flushTransaction:{pathname:"/api/sqlite/flushTransaction",method:"POST"}},storage:{getLocalStorage:{pathname:"/api/storage/getLocalStorage",method:"POST"},getRecentDocs:{pathname:"/api/storage/getRecentDocs",method:"POST"},setLocalStorage:{pathname:"/api/storage/setLocalStorage",method:"POST"},setLocalStorageVal:{pathname:"/api/storage/setLocalStorageVal",method:"POST"}},system:{bootProgress:{pathname:"/api/system/bootProgress",method:"POST"},currentTime:{pathname:"/api/system/currentTime",method:"POST"},getConf:{pathname:"/api/system/getConf",method:"POST"},logoutAuth:{pathname:"/api/system/logoutAuth",method:"POST"},version:{pathname:"/api/system/version",method:"POST"}},template:{render:{pathname:"/api/template/render",method:"POST"},renderSprig:{pathname:"/api/template/renderSprig",method:"POST"}}});let Pr=sn;function ge(){}function Nr(t,e){for(const n in e)t[n]=e[n];return t}function xi(t){return t()}function zn(){return Object.create(null)}function oe(t){t.forEach(xi)}function Gi(t){return typeof t=="function"}function Ue(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Dr(t){return Object.keys(t).length===0}function De(t,e,n,i){if(t){const s=Ji(t,e,n,i);return t[0](s)}}function Ji(t,e,n,i){return t[1]&&i?Nr(n.ctx.slice(),t[1](i(e))):n.ctx}function Be(t,e,n,i){if(t[2]&&i){const s=t[2](i(n));if(e.dirty===void 0)return s;if(typeof s=="object"){const a=[],r=Math.max(e.dirty.length,s.length);for(let o=0;o<r;o+=1)a[o]=e.dirty[o]|s[o];return a}return e.dirty|s}return e.dirty}function Le(t,e,n,i,s,a){if(s){const r=Ji(e,n,i,a);t.p(r,s)}}function Me(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let i=0;i<n;i++)e[i]=-1;return e}return-1}function Br(t){const e={};for(const n in t)e[n]=!0;return e}function N(t,e){t.appendChild(e)}function U(t,e,n){t.insertBefore(e,n||null)}function q(t){t.parentNode&&t.parentNode.removeChild(t)}function H(t){return document.createElement(t)}function an(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Ye(t){return document.createTextNode(t)}function I(){return Ye(" ")}function Et(){return Ye("")}function ne(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function S(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Wn(t,e,n){t.setAttributeNS("http://www.w3.org/1999/xlink",e,n)}function rn(t){return t===""?null:+t}function Lr(t){return Array.from(t.childNodes)}function Yi(t,e){e=""+e,t.data!==e&&(t.data=e)}function be(t,e){t.value=e??""}function bt(t,e,n,i){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,i?"important":"")}function Kn(t,e,n){for(let i=0;i<t.options.length;i+=1){const s=t.options[i];if(s.__value===e){s.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function Mr(t){const e=t.querySelector(":checked");return e&&e.__value}function C(t,e,n){t.classList.toggle(e,!!n)}function Ir(t,e,{bubbles:n=!1,cancelable:i=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:i})}class Ft{constructor(e=!1){G(this,"is_svg",!1);G(this,"e");G(this,"n");G(this,"t");G(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,i=null){this.e||(this.is_svg?this.e=an(n.nodeName):this.e=H(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(i)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)U(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(q)}}let vt;function _t(t){vt=t}function jr(){if(!vt)throw new Error("Function called outside component initialization");return vt}function wn(){const t=jr();return(e,n,{cancelable:i=!1}={})=>{const s=t.$$.callbacks[e];if(s){const a=Ir(e,n,{cancelable:i});return s.slice().forEach(r=>{r.call(t,a)}),!a.defaultPrevented}return!0}}const it=[],xn=[];let at=[];const Gn=[],qr=Promise.resolve();let on=!1;function Ur(){on||(on=!0,qr.then(Xi))}function Lt(t){at.push(t)}const Gt=new Set;let tt=0;function Xi(){if(tt!==0)return;const t=vt;do{try{for(;tt<it.length;){const e=it[tt];tt++,_t(e),Fr(e.$$)}}catch(e){throw it.length=0,tt=0,e}for(_t(null),it.length=0,tt=0;xn.length;)xn.pop()();for(let e=0;e<at.length;e+=1){const n=at[e];Gt.has(n)||(Gt.add(n),n())}at.length=0}while(it.length);for(;Gn.length;)Gn.pop()();on=!1,Gt.clear(),_t(t)}function Fr(t){if(t.fragment!==null){t.update(),oe(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Lt)}}function Hr(t){const e=[],n=[];at.forEach(i=>t.indexOf(i)===-1?e.push(i):n.push(i)),n.forEach(i=>i()),at=e}const Dt=new Set;let xe;function Ge(){xe={r:0,c:[],p:xe}}function Je(){xe.r||oe(xe.c),xe=xe.p}function _(t,e){t&&t.i&&(Dt.delete(t),t.i(e))}function v(t,e,n,i){if(t&&t.o){if(Dt.has(t))return;Dt.add(t),xe.c.push(()=>{Dt.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}else i&&i()}function lt(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Vr(t,e){t.d(1),e.delete(t.key)}function Zi(t,e){v(t,1,1,()=>{e.delete(t.key)})}function _n(t,e,n,i,s,a,r,o,c,p,l,b){let m=t.length,f=a.length,u=m;const h={};for(;u--;)h[t[u].key]=u;const d=[],P=new Map,Q=new Map,B=[];for(u=f;u--;){const T=b(s,a,u),te=n(T);let J=r.get(te);J?i&&B.push(()=>J.p(T,e)):(J=p(te,T),J.c()),P.set(te,d[u]=J),te in h&&Q.set(te,Math.abs(u-h[te]))}const R=new Set,Y=new Set;function M(T){_(T,1),T.m(o,l),r.set(T.key,T),l=T.first,f--}for(;m&&f;){const T=d[f-1],te=t[m-1],J=T.key,se=te.key;T===te?(l=T.first,m--,f--):P.has(se)?!r.has(J)||R.has(J)?M(T):Y.has(se)?m--:Q.get(J)>Q.get(se)?(Y.add(J),M(T)):(R.add(se),m--):(c(te,r),m--)}for(;m--;){const T=t[m];P.has(T.key)||c(T,r)}for(;f;)M(d[f-1]);return oe(B),d}function O(t){t&&t.c()}function A(t,e,n){const{fragment:i,after_update:s}=t.$$;i&&i.m(e,n),Lt(()=>{const a=t.$$.on_mount.map(xi).filter(Gi);t.$$.on_destroy?t.$$.on_destroy.push(...a):oe(a),t.$$.on_mount=[]}),s.forEach(Lt)}function E(t,e){const n=t.$$;n.fragment!==null&&(Hr(n.after_update),oe(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function zr(t,e){t.$$.dirty[0]===-1&&(it.push(t),Ur(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Fe(t,e,n,i,s,a,r=null,o=[-1]){const c=vt;_t(t);const p=t.$$={fragment:null,ctx:[],props:a,update:ge,not_equal:s,bound:zn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:zn(),dirty:o,skip_bound:!1,root:e.target||c.$$.root};r&&r(p.root);let l=!1;if(p.ctx=n?n(t,e.props||{},(b,m,...f)=>{const u=f.length?f[0]:m;return p.ctx&&s(p.ctx[b],p.ctx[b]=u)&&(!p.skip_bound&&p.bound[b]&&p.bound[b](u),l&&zr(t,b)),m}):[],p.update(),l=!0,oe(p.before_update),p.fragment=i?i(p.ctx):!1,e.target){if(e.hydrate){const b=Lr(e.target);p.fragment&&p.fragment.l(b),b.forEach(q)}else p.fragment&&p.fragment.c();e.intro&&_(t.$$.fragment),A(t,e.target,e.anchor),Xi()}_t(c)}class He{constructor(){G(this,"$$");G(this,"$$set")}$destroy(){E(this,1),this.$destroy=ge}$on(e,n){if(!Gi(n))return ge;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}$set(e){this.$$set&&!Dr(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Wr="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Wr);const Jn={id:/^\d{14}-[0-9a-z]{7}$/,url:/^siyuan:\/\/blocks\/(\d{14}-[0-9a-z]{7})/,snippet:/^\d{14}-[0-9a-z]{7}$/,created:/^\d{10}$/,history:/[\/\\]history[\/\\]\d{4}-\d{2}-\d{2}-\d{6}-(clean|update|delete|format|sync|replace)([\/\\]\d{14}-[0-9a-z]{7})+\.sy$/,snapshot:/^[0-9a-f]{40}$/,shorthand:/^\d{13}$/};function Kr(t){let e,n;return{c(){e=an("svg"),n=an("use"),Wn(n,"xlink:href",t[0]),S(e,"style",t[3]),S(e,"data-id",t[1]),S(e,"class",t[2]),C(e,"popover__block",Jn.id.test(t[1]))},m(i,s){U(i,e,s),N(e,n)},p(i,[s]){s&1&&Wn(n,"xlink:href",i[0]),s&8&&S(e,"style",i[3]),s&2&&S(e,"data-id",i[1]),s&4&&S(e,"class",i[2]),s&6&&C(e,"popover__block",Jn.id.test(i[1]))},i:ge,o:ge,d(i){i&&q(e)}}}function xr(t,e,n){let{icon:i}=e,{id:s=""}=e,{className:a=""}=e,{style:r=""}=e;return t.$$set=o=>{"icon"in o&&n(0,i=o.icon),"id"in o&&n(1,s=o.id),"className"in o&&n(2,a=o.className),"style"in o&&n(3,r=o.style)},[i,s,a,r]}class kn extends He{constructor(e){super(),Fe(this,e,xr,Kr,Ue,{icon:0,id:1,className:2,style:3})}}const Gr=t=>({focus:t&1}),Yn=t=>({focus:t[0]});function Xn(t,e,n){const i=t.slice();return i[13]=e[n],i}function Zn(t){let e,n,i,s,a,r,o;return n=new kn({props:{icon:"#iconSearch",className:"b3-form__icon-icon"}}),{c(){e=H("div"),O(n.$$.fragment),i=I(),s=H("input"),S(s,"placeholder",t[4]),S(s,"class","b3-text-field fn__block b3-form__icon-input"),S(e,"class","b3-form__icon")},m(c,p){U(c,e,p),A(n,e,null),N(e,i),N(e,s),be(s,t[1]),a=!0,r||(o=[ne(s,"input",t[9]),ne(s,"change",t[5])],r=!0)},p(c,p){(!a||p&16)&&S(s,"placeholder",c[4]),p&2&&s.value!==c[1]&&be(s,c[1])},i(c){a||(_(n.$$.fragment,c),a=!0)},o(c){v(n.$$.fragment,c),a=!1},d(c){c&&q(e),E(n),r=!1,oe(o)}}}function Qn(t,e){let n,i,s,a,r=e[13].text+"",o,c,p,l,b;i=new kn({props:{icon:e[13].icon,className:"b3-list-item__graphic"}});function m(){return e[10](e[13])}function f(){return e[11](e[13])}return{key:t,first:null,c(){n=H("li"),O(i.$$.fragment),s=I(),a=H("span"),o=I(),S(a,"class","b3-list-item__text svelte-15drd7h"),S(n,"role","button"),S(n,"data-name",c=e[13].name),S(n,"class","b3-list-item"),C(n,"b3-list-item--focus",e[13].key===e[0]),this.first=n},m(u,h){U(u,n,h),A(i,n,null),N(n,s),N(n,a),a.innerHTML=r,N(n,o),p=!0,l||(b=[ne(n,"click",m),ne(n,"keyup",f)],l=!0)},p(u,h){e=u;const d={};h&4&&(d.icon=e[13].icon),i.$set(d),(!p||h&4)&&r!==(r=e[13].text+"")&&(a.innerHTML=r),(!p||h&4&&c!==(c=e[13].name))&&S(n,"data-name",c),(!p||h&5)&&C(n,"b3-list-item--focus",e[13].key===e[0])},i(u){p||(_(i.$$.fragment,u),p=!0)},o(u){v(i.$$.fragment,u),p=!1},d(u){u&&q(n),E(i),l=!1,oe(b)}}}function Jr(t){let e;return{c(){e=Ye("Container")},m(n,i){U(n,e,i)},d(n){n&&q(e)}}}function Yr(t){let e,n,i,s=[],a=new Map,r,o,c,p=t[3]&&Zn(t),l=lt(t[2]);const b=h=>h[13].key;for(let h=0;h<l.length;h+=1){let d=Xn(t,l,h),P=b(d);a.set(P,s[h]=Qn(P,d))}const m=t[8].default,f=De(m,t,t[7],Yn),u=f||Jr();return{c(){e=H("div"),n=H("ul"),p&&p.c(),i=I();for(let h=0;h<s.length;h+=1)s[h].c();r=I(),o=H("div"),u&&u.c(),S(n,"class","b3-tab-bar b3-list b3-list--background"),S(o,"class","config__tab-wrap"),S(e,"class","fn__flex-1 fn__flex config__panel")},m(h,d){U(h,e,d),N(e,n),p&&p.m(n,null),N(n,i);for(let P=0;P<s.length;P+=1)s[P]&&s[P].m(n,null);N(e,r),N(e,o),u&&u.m(o,null),c=!0},p(h,[d]){h[3]?p?(p.p(h,d),d&8&&_(p,1)):(p=Zn(h),p.c(),_(p,1),p.m(n,i)):p&&(Ge(),v(p,1,1,()=>{p=null}),Je()),d&69&&(l=lt(h[2]),Ge(),s=_n(s,d,b,1,h,l,a,n,Zi,Qn,null,Xn),Je()),f&&f.p&&(!c||d&129)&&Le(f,m,h,h[7],c?Be(m,h[7],d,Gr):Me(h[7]),Yn)},i(h){if(!c){_(p);for(let d=0;d<l.length;d+=1)_(s[d]);_(u,h),c=!0}},o(h){v(p);for(let d=0;d<s.length;d+=1)v(s[d]);v(u,h),c=!1},d(h){h&&q(e),p&&p.d();for(let d=0;d<s.length;d+=1)s[d].d();u&&u.d(h)}}}function Xr(t,e,n){let{$$slots:i={},$$scope:s}=e,{panels:a}=e,{focus:r}=e,{searchEnable:o=!1}=e,{searchPlaceholder:c=""}=e,{searchValue:p=""}=e;const l=wn();function b(){l("search-changed",{value:p})}function m(d){l("changed",{key:d}),n(0,r=d)}function f(){p=this.value,n(1,p)}const u=d=>m(d.key),h=d=>m(d.key);return t.$$set=d=>{"panels"in d&&n(2,a=d.panels),"focus"in d&&n(0,r=d.focus),"searchEnable"in d&&n(3,o=d.searchEnable),"searchPlaceholder"in d&&n(4,c=d.searchPlaceholder),"searchValue"in d&&n(1,p=d.searchValue),"$$scope"in d&&n(7,s=d.$$scope)},[r,p,a,o,c,b,m,s,i,f,u,h]}class Zr extends He{constructor(e){super(),Fe(this,e,Xr,Yr,Ue,{panels:2,focus:0,searchEnable:3,searchPlaceholder:4,searchValue:1})}}function Qr(t){let e,n;const i=t[4].default,s=De(i,t,t[3],null);return{c(){e=H("div"),s&&s.c(),S(e,"data-name",t[2]),S(e,"class","config__tab-container"),C(e,"fn__none",!t[0]),C(e,"config__tab-container--top",t[1])},m(a,r){U(a,e,r),s&&s.m(e,null),n=!0},p(a,[r]){s&&s.p&&(!n||r&8)&&Le(s,i,a,a[3],n?Be(i,a[3],r,null):Me(a[3]),null),(!n||r&4)&&S(e,"data-name",a[2]),(!n||r&1)&&C(e,"fn__none",!a[0]),(!n||r&2)&&C(e,"config__tab-container--top",a[1])},i(a){n||(_(s,a),n=!0)},o(a){v(s,a),n=!1},d(a){a&&q(e),s&&s.d(a)}}}function eo(t,e,n){let{$$slots:i={},$$scope:s}=e,{display:a=!0}=e,{top:r=!1}=e,{name:o=""}=e;return t.$$set=c=>{"display"in c&&n(0,a=c.display),"top"in c&&n(1,r=c.top),"name"in c&&n(2,o=c.name),"$$scope"in c&&n(3,s=c.$$scope)},[a,r,o,s,i]}class ei extends He{constructor(e){super(),Fe(this,e,eo,Qr,Ue,{display:0,top:1,name:2})}}const to=t=>({}),ti=t=>({}),no=t=>({}),ni=t=>({});function ii(t){let e,n;const i=t[7].icon,s=De(i,t,t[6],ni);return{c(){e=H("span"),s&&s.c(),S(e,"class","item__icon")},m(a,r){U(a,e,r),s&&s.m(e,null),n=!0},p(a,r){s&&s.p&&(!n||r&64)&&Le(s,i,a,a[6],n?Be(i,a[6],r,no):Me(a[6]),ni)},i(a){n||(_(s,a),n=!0)},o(a){v(s,a),n=!1},d(a){a&&q(e),s&&s.d(a)}}}function io(t){let e;return{c(){e=Ye("text")},m(n,i){U(n,e,i)},d(n){n&&q(e)}}}function so(t){let e,n,i,s,a,r,o,c,p,l,b=t[0]&&t[4].icon&&ii(t);const m=t[7].text,f=De(m,t,t[6],ti),u=f||io();return{c(){e=H("div"),n=H("span"),i=I(),b&&b.c(),s=I(),a=H("span"),u&&u.c(),r=I(),o=H("span"),S(n,"class","fn__flex-1"),S(a,"class","item__text"),S(o,"class","fn__flex-1"),S(e,"role","button"),S(e,"data-type",t[1]),S(e,"class","item item--full"),C(e,"item--focus",t[2])},m(h,d){U(h,e,d),N(e,n),N(e,i),b&&b.m(e,null),N(e,s),N(e,a),u&&u.m(a,null),N(e,r),N(e,o),c=!0,p||(l=ne(e,"click",t[3]),p=!0)},p(h,[d]){h[0]&&h[4].icon?b?(b.p(h,d),d&17&&_(b,1)):(b=ii(h),b.c(),_(b,1),b.m(e,s)):b&&(Ge(),v(b,1,1,()=>{b=null}),Je()),f&&f.p&&(!c||d&64)&&Le(f,m,h,h[6],c?Be(m,h[6],d,to):Me(h[6]),ti),(!c||d&2)&&S(e,"data-type",h[1]),(!c||d&4)&&C(e,"item--focus",h[2])},i(h){c||(_(b),_(u,h),c=!0)},o(h){v(b),v(u,h),c=!1},d(h){h&&q(e),b&&b.d(),u&&u.d(h),p=!1,l()}}}function ao(t,e,n){let{$$slots:i={},$$scope:s}=e;const a=Br(i);let{key:r}=e,{icon:o}=e,{name:c=""}=e,{focus:p=!1}=e;const l=wn();function b(){p||l("changed",{key:r})}return t.$$set=m=>{"key"in m&&n(5,r=m.key),"icon"in m&&n(0,o=m.icon),"name"in m&&n(1,c=m.name),"focus"in m&&n(2,p=m.focus),"$$scope"in m&&n(6,s=m.$$scope)},[o,c,p,b,a,r,s,i]}class ro extends He{constructor(e){super(),Fe(this,e,ao,so,Ue,{key:5,icon:0,name:1,focus:2})}}const oo=t=>({focus:t&1}),si=t=>({focus:t[0]});function ai(t,e,n){const i=t.slice();return i[5]=e[n],i}function lo(t){let e,n=t[5].icon+"",i;return{c(){e=new Ft(!1),i=Et(),e.a=i},m(s,a){e.m(n,s,a),U(s,i,a)},p(s,a){a&2&&n!==(n=s[5].icon+"")&&e.p(n)},i:ge,o:ge,d(s){s&&(q(i),e.d())}}}function co(t){let e,n;return e=new kn({props:{icon:t[5].icon}}),{c(){O(e.$$.fragment)},m(i,s){A(e,i,s),n=!0},p(i,s){const a={};s&2&&(a.icon=i[5].icon),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){v(e.$$.fragment,i),n=!1},d(i){E(e,i)}}}function uo(t){let e,n,i,s,a,r;const o=[co,lo],c=[];function p(l,b){var m;return b&2&&(n=null),n==null&&(n=!!((m=l[5].icon)!=null&&m.startsWith("#"))),n?0:l[5].icon?1:-1}return~(i=p(t,-1))&&(s=c[i]=o[i](t)),{c(){e=H("span"),s&&s.c(),a=I(),S(e,"slot","icon")},m(l,b){U(l,e,b),~i&&c[i].m(e,null),N(e,a),r=!0},p(l,b){let m=i;i=p(l,b),i===m?~i&&c[i].p(l,b):(s&&(Ge(),v(c[m],1,1,()=>{c[m]=null}),Je()),~i?(s=c[i],s?s.p(l,b):(s=c[i]=o[i](l),s.c()),_(s,1),s.m(e,a)):s=null)},i(l){r||(_(s),r=!0)},o(l){v(s),r=!1},d(l){l&&q(e),~i&&c[i].d()}}}function fo(t){let e,n,i=t[5].text+"",s;return{c(){e=H("span"),n=new Ft(!1),s=I(),n.a=s,S(e,"slot","text")},m(a,r){U(a,e,r),n.m(i,e),N(e,s)},p(a,r){r&2&&i!==(i=a[5].text+"")&&n.p(i)},d(a){a&&q(e)}}}function ri(t,e){let n,i,s;return i=new ro({props:{key:e[5].key,icon:!!e[5].icon,name:e[5].name,focus:e[5].key===e[0],$$slots:{text:[fo],icon:[uo]},$$scope:{ctx:e}}}),i.$on("changed",e[2]),{key:t,first:null,c(){n=Et(),O(i.$$.fragment),this.first=n},m(a,r){U(a,n,r),A(i,a,r),s=!0},p(a,r){e=a;const o={};r&2&&(o.key=e[5].key),r&2&&(o.icon=!!e[5].icon),r&2&&(o.name=e[5].name),r&3&&(o.focus=e[5].key===e[0]),r&18&&(o.$$scope={dirty:r,ctx:e}),i.$set(o)},i(a){s||(_(i.$$.fragment,a),s=!0)},o(a){v(i.$$.fragment,a),s=!1},d(a){a&&q(n),E(i,a)}}}function ho(t){let e;return{c(){e=Ye("Container")},m(n,i){U(n,e,i)},d(n){n&&q(e)}}}function po(t){let e,n,i=[],s=new Map,a,r,o,c=lt(t[1]);const p=f=>f[5].key;for(let f=0;f<c.length;f+=1){let u=ai(t,c,f),h=p(u);s.set(h,i[f]=ri(h,u))}const l=t[3].default,b=De(l,t,t[4],si),m=b||ho();return{c(){e=H("div"),n=H("div");for(let f=0;f<i.length;f+=1)i[f].c();a=I(),r=H("div"),m&&m.c(),S(n,"class","layout-tab-bar fn__flex"),S(r,"class","fn__flex-1"),S(e,"class","fn__flex-column"),bt(e,"height","100%")},m(f,u){U(f,e,u),N(e,n);for(let h=0;h<i.length;h+=1)i[h]&&i[h].m(n,null);N(e,a),N(e,r),m&&m.m(r,null),o=!0},p(f,[u]){u&7&&(c=lt(f[1]),Ge(),i=_n(i,u,p,1,f,c,s,n,Zi,ri,null,ai),Je()),b&&b.p&&(!o||u&17)&&Le(b,l,f,f[4],o?Be(l,f[4],u,oo):Me(f[4]),si)},i(f){if(!o){for(let u=0;u<c.length;u+=1)_(i[u]);_(m,f),o=!0}},o(f){for(let u=0;u<i.length;u+=1)v(i[u]);v(m,f),o=!1},d(f){f&&q(e);for(let u=0;u<i.length;u+=1)i[u].d();m&&m.d(f)}}}function mo(t,e,n){let{$$slots:i={},$$scope:s}=e,{tabs:a}=e,{focus:r}=e;function o(c){n(0,r=c.detail.key)}return t.$$set=c=>{"tabs"in c&&n(1,a=c.tabs),"focus"in c&&n(0,r=c.focus),"$$scope"in c&&n(4,s=c.$$scope)},[r,a,o,i,s]}class go extends He{constructor(e){super(),Fe(this,e,mo,po,Ue,{tabs:1,focus:0})}}const bo=t=>({}),oi=t=>({}),wo=t=>({}),li=t=>({}),_o=t=>({}),ci=t=>({}),ko=t=>({}),ui=t=>({});function yo(t){let e,n;return{c(){e=new Ft(!1),n=Et(),e.a=n},m(i,s){e.m(t[0],i,s),U(i,n,s)},p(i,s){s&1&&e.p(i[0])},d(i){i&&(q(n),e.d())}}}function vo(t){let e,n;return{c(){e=new Ft(!1),n=Et(),e.a=n},m(i,s){e.m(t[1],i,s),U(i,n,s)},p(i,s){s&2&&e.p(i[1])},d(i){i&&(q(n),e.d())}}}function fi(t){let e,n,i;const s=t[4].input,a=De(s,t,t[3],li);return{c(){e=H("div"),n=I(),a&&a.c(),S(e,"class","fn__hr")},m(r,o){U(r,e,o),U(r,n,o),a&&a.m(r,o),i=!0},p(r,o){a&&a.p&&(!i||o&8)&&Le(a,s,r,r[3],i?Be(s,r[3],o,wo):Me(r[3]),li)},i(r){i||(_(a,r),i=!0)},o(r){v(a,r),i=!1},d(r){r&&(q(e),q(n)),a&&a.d(r)}}}function hi(t){let e,n,i;const s=t[4].input,a=De(s,t,t[3],oi);return{c(){e=H("span"),n=I(),a&&a.c(),S(e,"class","fn__space")},m(r,o){U(r,e,o),U(r,n,o),a&&a.m(r,o),i=!0},p(r,o){a&&a.p&&(!i||o&8)&&Le(a,s,r,r[3],i?Be(s,r[3],o,bo):Me(r[3]),oi)},i(r){i||(_(a,r),i=!0)},o(r){v(a,r),i=!1},d(r){r&&(q(e),q(n)),a&&a.d(r)}}}function So(t){let e,n,i,s,a,r,o;const c=t[4].title,p=De(c,t,t[3],ui),l=p||yo(t),b=t[4].text,m=De(b,t,t[3],ci),f=m||vo(t);let u=t[2]&&fi(t),h=!t[2]&&hi(t);return{c(){e=H("label"),n=H("div"),l&&l.c(),i=I(),s=H("div"),f&&f.c(),a=I(),u&&u.c(),r=I(),h&&h.c(),S(s,"class","b3-label__text"),S(n,"class","fn__flex-1 svelte-2m76cy"),C(n,"visible",t[2]),S(e,"class","fn__flex b3-label")},m(d,P){U(d,e,P),N(e,n),l&&l.m(n,null),N(n,i),N(n,s),f&&f.m(s,null),N(n,a),u&&u.m(n,null),N(e,r),h&&h.m(e,null),o=!0},p(d,[P]){p?p.p&&(!o||P&8)&&Le(p,c,d,d[3],o?Be(c,d[3],P,ko):Me(d[3]),ui):l&&l.p&&(!o||P&1)&&l.p(d,o?P:-1),m?m.p&&(!o||P&8)&&Le(m,b,d,d[3],o?Be(b,d[3],P,_o):Me(d[3]),ci):f&&f.p&&(!o||P&2)&&f.p(d,o?P:-1),d[2]?u?(u.p(d,P),P&4&&_(u,1)):(u=fi(d),u.c(),_(u,1),u.m(n,null)):u&&(Ge(),v(u,1,1,()=>{u=null}),Je()),(!o||P&4)&&C(n,"visible",d[2]),d[2]?h&&(Ge(),v(h,1,1,()=>{h=null}),Je()):h?(h.p(d,P),P&4&&_(h,1)):(h=hi(d),h.c(),_(h,1),h.m(e,null))},i(d){o||(_(l,d),_(f,d),_(u),_(h),o=!0)},o(d){v(l,d),v(f,d),v(u),v(h),o=!1},d(d){d&&q(e),l&&l.d(d),f&&f.d(d),u&&u.d(),h&&h.d()}}}function To(t,e,n){let{$$slots:i={},$$scope:s}=e,{title:a=""}=e,{text:r=""}=e,{block:o=!1}=e;return t.$$set=c=>{"title"in c&&n(0,a=c.title),"text"in c&&n(1,r=c.text),"block"in c&&n(2,o=c.block),"$$scope"in c&&n(3,s=c.$$scope)},[a,r,o,s,i]}class X extends He{constructor(e){super(),Fe(this,e,To,So,Ue,{title:0,text:1,block:2})}}var W=(t=>(t[t.checkbox=0]="checkbox",t[t.text=1]="text",t[t.number=2]="number",t[t.slider=3]="slider",t[t.button=4]="button",t[t.select=5]="select",t[t.textarea=6]="textarea",t))(W||{});function pi(t,e,n){const i=t.slice();return i[20]=e[n],i}function Ao(t){let e,n,i;return{c(){e=H("textarea"),e.disabled=t[2],S(e,"class","b3-text-field"),S(e,"placeholder",t[5]),C(e,"fn__block",t[3]),C(e,"fn__size200",!t[3]&&t[4]),bt(e,"height",t[8]>0?`${t[8]}px`:void 0),bt(e,"font-family",t[9]?t[9]:void 0)},m(s,a){U(s,e,a),be(e,t[0]),n||(i=[ne(e,"input",t[18]),ne(e,"change",t[11])],n=!0)},p(s,a){a&4&&(e.disabled=s[2]),a&32&&S(e,"placeholder",s[5]),a&65&&be(e,s[0]),a&8&&C(e,"fn__block",s[3]),a&24&&C(e,"fn__size200",!s[3]&&s[4]),a&256&&bt(e,"height",s[8]>0?`${s[8]}px`:void 0),a&512&&bt(e,"font-family",s[9]?s[9]:void 0)},d(s){s&&q(e),n=!1,oe(i)}}}function Eo(t){let e,n=[],i=new Map,s,a,r=lt(t[6]);const o=c=>c[20].key;for(let c=0;c<r.length;c+=1){let p=pi(t,r,c),l=o(p);i.set(l,n[c]=mi(l,p))}return{c(){e=H("select");for(let c=0;c<n.length;c+=1)n[c].c();e.disabled=t[2],S(e,"class","b3-select"),t[0]===void 0&&Lt(()=>t[17].call(e)),C(e,"fn__block",t[3]),C(e,"fn__size200",!t[3]&&t[4]),C(e,"fn__flex-center",!t[3])},m(c,p){U(c,e,p);for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(e,null);Kn(e,t[0],!0),s||(a=[ne(e,"change",t[17]),ne(e,"change",t[11])],s=!0)},p(c,p){p&64&&(r=lt(c[6]),n=_n(n,p,o,1,c,r,i,e,Vr,mi,null,pi)),p&4&&(e.disabled=c[2]),p&65&&Kn(e,c[0]),p&8&&C(e,"fn__block",c[3]),p&24&&C(e,"fn__size200",!c[3]&&c[4]),p&8&&C(e,"fn__flex-center",!c[3])},d(c){c&&q(e);for(let p=0;p<n.length;p+=1)n[p].d();s=!1,oe(a)}}}function $o(t){let e,n,i,s;return{c(){e=H("button"),n=Ye(t[0]),e.disabled=t[2],S(e,"class","b3-button b3-button--outline"),C(e,"fn__block",t[3]),C(e,"fn__size200",!t[3]&&t[4]),C(e,"fn__flex-center",!t[3])},m(a,r){U(a,e,r),N(e,n),i||(s=ne(e,"click",t[10]),i=!0)},p(a,r){r&1&&Yi(n,a[0]),r&4&&(e.disabled=a[2]),r&8&&C(e,"fn__block",a[3]),r&24&&C(e,"fn__size200",!a[3]&&a[4]),r&8&&C(e,"fn__flex-center",!a[3])},d(a){a&&q(e),i=!1,s()}}}function Oo(t){let e,n,i,s,a,r;return{c(){e=H("input"),e.disabled=t[2],S(e,"class","b3-slider svelte-edt8og"),S(e,"type","range"),S(e,"min",n=t[7].min),S(e,"max",i=t[7].max),S(e,"step",s=t[7].step),C(e,"fn__block",t[3]),C(e,"fn__size200",!t[3]&&t[4])},m(o,c){U(o,e,c),be(e,t[0]),a||(r=[ne(e,"change",t[16]),ne(e,"input",t[16]),ne(e,"change",t[11])],a=!0)},p(o,c){c&4&&(e.disabled=o[2]),c&128&&n!==(n=o[7].min)&&S(e,"min",n),c&128&&i!==(i=o[7].max)&&S(e,"max",i),c&128&&s!==(s=o[7].step)&&S(e,"step",s),c&65&&be(e,o[0]),c&8&&C(e,"fn__block",o[3]),c&24&&C(e,"fn__size200",!o[3]&&o[4])},d(o){o&&q(e),a=!1,oe(r)}}}function Co(t){let e,n,i,s,a,r;return{c(){e=H("input"),e.disabled=t[2],S(e,"class","b3-text-field"),S(e,"type","number"),S(e,"placeholder",t[5]),S(e,"min",n=t[7].min),S(e,"max",i=t[7].max),S(e,"step",s=t[7].step),C(e,"fn__block",t[3]),C(e,"fn__size200",!t[3]&&t[4]),C(e,"fn__flex-center",!t[3])},m(o,c){U(o,e,c),be(e,t[0]),a||(r=[ne(e,"input",t[15]),ne(e,"change",t[11])],a=!0)},p(o,c){c&4&&(e.disabled=o[2]),c&32&&S(e,"placeholder",o[5]),c&128&&n!==(n=o[7].min)&&S(e,"min",n),c&128&&i!==(i=o[7].max)&&S(e,"max",i),c&128&&s!==(s=o[7].step)&&S(e,"step",s),c&65&&rn(e.value)!==o[0]&&be(e,o[0]),c&8&&C(e,"fn__block",o[3]),c&24&&C(e,"fn__size200",!o[3]&&o[4]),c&8&&C(e,"fn__flex-center",!o[3])},d(o){o&&q(e),a=!1,oe(r)}}}function Ro(t){let e,n,i;return{c(){e=H("input"),e.disabled=t[2],S(e,"class","b3-text-field"),S(e,"placeholder",t[5]),C(e,"fn__block",t[3]),C(e,"fn__size200",!t[3]&&t[4]),C(e,"fn__flex-center",!t[3])},m(s,a){U(s,e,a),be(e,t[0]),n||(i=[ne(e,"input",t[14]),ne(e,"change",t[11])],n=!0)},p(s,a){a&4&&(e.disabled=s[2]),a&32&&S(e,"placeholder",s[5]),a&65&&e.value!==s[0]&&be(e,s[0]),a&8&&C(e,"fn__block",s[3]),a&24&&C(e,"fn__size200",!s[3]&&s[4]),a&8&&C(e,"fn__flex-center",!s[3])},d(s){s&&q(e),n=!1,oe(i)}}}function Po(t){let e,n,i;return{c(){e=H("input"),e.disabled=t[2],S(e,"class","b3-switch svelte-edt8og"),S(e,"type","checkbox"),C(e,"fn__block",t[3]),C(e,"fn__flex-center",!t[3])},m(s,a){U(s,e,a),e.checked=t[0],n||(i=[ne(e,"change",t[13]),ne(e,"change",t[11])],n=!0)},p(s,a){a&4&&(e.disabled=s[2]),a&65&&(e.checked=s[0]),a&8&&C(e,"fn__block",s[3]),a&8&&C(e,"fn__flex-center",!s[3])},d(s){s&&q(e),n=!1,oe(i)}}}function mi(t,e){let n,i=e[20].text+"",s,a,r,o;return{key:t,first:null,c(){n=H("option"),s=Ye(i),a=I(),n.__value=r=e[20].key,be(n,n.__value),S(n,"title",o=e[20].title),this.first=n},m(c,p){U(c,n,p),N(n,s),N(n,a)},p(c,p){e=c,p&64&&i!==(i=e[20].text+"")&&Yi(s,i),p&64&&r!==(r=e[20].key)&&(n.__value=r,be(n,n.__value)),p&64&&o!==(o=e[20].title)&&S(n,"title",o)},d(c){c&&q(n)}}}function No(t){let e;function n(a,r){if(a[1]===W.checkbox)return Po;if(a[1]===W.text)return Ro;if(a[1]===W.number)return Co;if(a[1]===W.slider)return Oo;if(a[1]===W.button)return $o;if(a[1]===W.select)return Eo;if(a[1]===W.textarea)return Ao}let i=n(t),s=i&&i(t);return{c(){s&&s.c(),e=Et()},m(a,r){s&&s.m(a,r),U(a,e,r)},p(a,[r]){i===(i=n(a))&&s?s.p(a,r):(s&&s.d(1),s=i&&i(a),s&&(s.c(),s.m(e.parentNode,e)))},i:ge,o:ge,d(a){a&&q(e),s&&s.d(a)}}}function Do(t,e,n){let{type:i}=e,{settingKey:s}=e,{settingValue:a}=e,{disabled:r=!1}=e,{block:o=!1}=e,{normal:c=!0}=e,{placeholder:p=""}=e,{options:l=[]}=e,{limits:b={min:0,max:100,step:1}}=e,{height:m=0}=e,{fontFamily:f=""}=e;const u=wn();function h(T){u("clicked",{event:T})}function d(T){u("changed",{key:s,value:a,event:T})}function P(){a=this.checked,n(0,a),n(6,l)}function Q(){a=this.value,n(0,a),n(6,l)}function B(){a=rn(this.value),n(0,a),n(6,l)}function R(){a=rn(this.value),n(0,a),n(6,l)}function Y(){a=Mr(this),n(0,a),n(6,l)}function M(){a=this.value,n(0,a),n(6,l)}return t.$$set=T=>{"type"in T&&n(1,i=T.type),"settingKey"in T&&n(12,s=T.settingKey),"settingValue"in T&&n(0,a=T.settingValue),"disabled"in T&&n(2,r=T.disabled),"block"in T&&n(3,o=T.block),"normal"in T&&n(4,c=T.normal),"placeholder"in T&&n(5,p=T.placeholder),"options"in T&&n(6,l=T.options),"limits"in T&&n(7,b=T.limits),"height"in T&&n(8,m=T.height),"fontFamily"in T&&n(9,f=T.fontFamily)},[a,i,r,o,c,p,l,b,m,f,h,d,s,P,Q,B,R,Y,M]}class Z extends He{constructor(e){super(),Fe(this,e,Do,No,Ue,{type:1,settingKey:12,settingValue:0,disabled:2,block:3,normal:4,placeholder:5,options:6,limits:7,height:8,fontFamily:9})}}function Bo(t,e,n="span"){return`<${n} class="${e}">${t}</${n}>`}function ln(t){return Bo(t,"fn__code","code")}var x=(t=>(t.Coding="coding",t.Building="building",t.Indexing="indexing",t.Debugging="debugging",t.Browsing="browsing",t.RunningTests="running tests",t.WritingTests="writing tests",t.ManualTesting="manual testing",t.WritingDocs="writing docs",t.CodeReviewing="code reviewing",t.Researching="researching",t.Learning="learning",t.Designing="designing",t))(x||{});const me={OFFLINE_CACHE_PATH:"temp/.wakatime/cache",WAKATIME_DEFAULT_API_URL:"https://wakatime.com/api/v1",WAKATIME_STATUS_BAR_PATHNAME:"users/current/statusbar/today",WAKATIME_HEARTBEATS_PATHNAME:"users/current/heartbeats",WAKATIME_HEARTBEATS_BULK:25,WAKATIME_CLIENT_NAME:"wakatime",WAKATIME_CLIENT_VERSION:"1.90.0",WAKATIME_EDITOR_NAME:"siyuan",WAKATIME_PLUGIN_NAME:"siyuan-wakatime",WAKATIME_DEFAULT_LANGUAGE:"Siyuan",WAKATIME_WORKER_FILE_NAME:"wakatime",WAKATIME_WORKER_BROADCAST_CHANNEL_NAME:"wakatime-worker",CACHE_CHECK_INTERVAL:5*60*1e3,CACHE_COMMIT_INTERVAL:1*1e3};function Lo(t){let e,n;return e=new Z({props:{slot:"input",type:W.button,settingKey:"cleanCache",settingValue:t[3].settings.generalSettings.cleanCache.text}}),e.$on("clicked",t[6]),{c(){O(e.$$.fragment)},m(i,s){A(e,i,s),n=!0},p:ge,i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){v(e.$$.fragment,i),n=!1},d(i){E(e,i)}}}function Mo(t){let e,n;return e=new Z({props:{slot:"input",type:W.button,settingKey:"Reset",settingValue:t[3].settings.generalSettings.reset.text}}),e.$on("clicked",t[5]),{c(){O(e.$$.fragment)},m(i,s){A(e,i,s),n=!0},p:ge,i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){v(e.$$.fragment,i),n=!1},d(i){E(e,i)}}}function Io(t){let e,n,i,s;return e=new X({props:{title:t[3].settings.generalSettings.cleanCache.title,text:t[3].settings.generalSettings.cleanCache.description,$$slots:{input:[Lo]},$$scope:{ctx:t}}}),i=new X({props:{title:t[3].settings.generalSettings.reset.title,text:t[3].settings.generalSettings.reset.description,$$slots:{input:[Mo]},$$scope:{ctx:t}}}),{c(){O(e.$$.fragment),n=I(),O(i.$$.fragment)},m(a,r){A(e,a,r),U(a,n,r),A(i,a,r),s=!0},p(a,r){const o={};r[1]&64&&(o.$$scope={dirty:r,ctx:a}),e.$set(o);const c={};r[1]&64&&(c.$$scope={dirty:r,ctx:a}),i.$set(c)},i(a){s||(_(e.$$.fragment,a),_(i.$$.fragment,a),s=!0)},o(a){v(e.$$.fragment,a),v(i.$$.fragment,a),s=!1},d(a){a&&q(n),E(e,a),E(i,a)}}}function jo(t){let e,n;return e=new Z({props:{slot:"input",type:W.checkbox,settingKey:"Heartbeats",settingValue:t[0].wakatime.heartbeats}}),e.$on("changed",t[12]),{c(){O(e.$$.fragment)},m(i,s){A(e,i,s),n=!0},p(i,s){const a={};s[0]&1&&(a.settingValue=i[0].wakatime.heartbeats),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){v(e.$$.fragment,i),n=!1},d(i){E(e,i)}}}function qo(t){let e,n;return e=new Z({props:{slot:"input",type:W.text,settingKey:"project",settingValue:t[0].wakatime.project,placeholder:t[1].wakatimeDefaultProject}}),e.$on("changed",t[13]),{c(){O(e.$$.fragment)},m(i,s){A(e,i,s),n=!0},p(i,s){const a={};s[0]&1&&(a.settingValue=i[0].wakatime.project),s[0]&2&&(a.placeholder=i[1].wakatimeDefaultProject),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){v(e.$$.fragment,i),n=!1},d(i){E(e,i)}}}function Uo(t){let e,n;return e=new Z({props:{slot:"input",type:W.text,settingKey:"language",settingValue:t[0].wakatime.language,placeholder:t[1].wakatimeDefaultLanguage}}),e.$on("changed",t[14]),{c(){O(e.$$.fragment)},m(i,s){A(e,i,s),n=!0},p(i,s){const a={};s[0]&1&&(a.settingValue=i[0].wakatime.language),s[0]&2&&(a.placeholder=i[1].wakatimeDefaultLanguage),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){v(e.$$.fragment,i),n=!1},d(i){E(e,i)}}}function Fo(t){let e,n;return e=new Z({props:{slot:"input",type:W.number,settingKey:"interval",settingValue:t[0].wakatime.interval,limits:t[10]}}),e.$on("changed",t[15]),{c(){O(e.$$.fragment)},m(i,s){A(e,i,s),n=!0},p(i,s){const a={};s[0]&1&&(a.settingValue=i[0].wakatime.interval),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){v(e.$$.fragment,i),n=!1},d(i){E(e,i)}}}function Ho(t){let e,n;return e=new Z({props:{slot:"input",type:W.select,settingKey:"view.category",settingValue:t[0].wakatime.view.category,options:t[11]}}),e.$on("changed",t[16]),{c(){O(e.$$.fragment)},m(i,s){A(e,i,s),n=!0},p(i,s){const a={};s[0]&1&&(a.settingValue=i[0].wakatime.view.category),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){v(e.$$.fragment,i),n=!1},d(i){E(e,i)}}}function Vo(t){let e,n;return e=new Z({props:{slot:"input",type:W.select,settingKey:"edit.category",settingValue:t[0].wakatime.edit.category,options:t[11]}}),e.$on("changed",t[17]),{c(){O(e.$$.fragment)},m(i,s){A(e,i,s),n=!0},p(i,s){const a={};s[0]&1&&(a.settingValue=i[0].wakatime.edit.category),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){v(e.$$.fragment,i),n=!1},d(i){E(e,i)}}}function zo(t){let e,n;return e=new Z({props:{slot:"input",type:W.text,settingKey:"system_name",settingValue:t[0].wakatime.system_name,placeholder:t[1].wakatimeDefaultSystemName}}),e.$on("changed",t[18]),{c(){O(e.$$.fragment)},m(i,s){A(e,i,s),n=!0},p(i,s){const a={};s[0]&1&&(a.settingValue=i[0].wakatime.system_name),s[0]&2&&(a.placeholder=i[1].wakatimeDefaultSystemName),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){v(e.$$.fragment,i),n=!1},d(i){E(e,i)}}}function Wo(t){let e,n;return e=new Z({props:{slot:"input",type:W.text,settingKey:"system_version",settingValue:t[0].wakatime.system_version,placeholder:t[1].wakatimeDefaultSystemVersion}}),e.$on("changed",t[19]),{c(){O(e.$$.fragment)},m(i,s){A(e,i,s),n=!0},p(i,s){const a={};s[0]&1&&(a.settingValue=i[0].wakatime.system_version),s[0]&2&&(a.placeholder=i[1].wakatimeDefaultSystemVersion),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){v(e.$$.fragment,i),n=!1},d(i){E(e,i)}}}function Ko(t){let e,n;return e=new Z({props:{slot:"input",type:W.text,settingKey:"system_arch",settingValue:t[0].wakatime.system_arch,placeholder:t[1].wakatimeDefaultSystemArch}}),e.$on("changed",t[20]),{c(){O(e.$$.fragment)},m(i,s){A(e,i,s),n=!0},p(i,s){const a={};s[0]&1&&(a.settingValue=i[0].wakatime.system_arch),s[0]&2&&(a.placeholder=i[1].wakatimeDefaultSystemArch),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){v(e.$$.fragment,i),n=!1},d(i){E(e,i)}}}function xo(t){let e,n;return e=new Z({props:{slot:"input",type:W.textarea,settingKey:"useragent",settingValue:t[0].wakatime.useragent,placeholder:t[2],block:!0}}),e.$on("changed",t[21]),{c(){O(e.$$.fragment)},m(i,s){A(e,i,s),n=!0},p(i,s){const a={};s[0]&1&&(a.settingValue=i[0].wakatime.useragent),s[0]&4&&(a.placeholder=i[2]),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){v(e.$$.fragment,i),n=!1},d(i){E(e,i)}}}function Go(t){let e,n;return e=new Z({props:{slot:"input",type:W.button,settingKey:"Test",settingValue:t[3].settings.wakatimeSettings.serviceTab.test.text}}),e.$on("clicked",t[7]),{c(){O(e.$$.fragment)},m(i,s){A(e,i,s),n=!0},p:ge,i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){v(e.$$.fragment,i),n=!1},d(i){E(e,i)}}}function Jo(t){let e,n;return e=new Z({props:{slot:"input",type:W.text,settingKey:"api_url",settingValue:t[0].wakatime.api_url,placeholder:t[1].wakatimeDefaultApiUrl,block:!0}}),e.$on("changed",t[22]),{c(){O(e.$$.fragment)},m(i,s){A(e,i,s),n=!0},p(i,s){const a={};s[0]&1&&(a.settingValue=i[0].wakatime.api_url),s[0]&2&&(a.placeholder=i[1].wakatimeDefaultApiUrl),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){v(e.$$.fragment,i),n=!1},d(i){E(e,i)}}}function Yo(t){let e,n;return e=new Z({props:{slot:"input",type:W.text,settingKey:"api_key",settingValue:t[0].wakatime.api_key,placeholder:"API KEY",block:!0}}),e.$on("changed",t[23]),{c(){O(e.$$.fragment)},m(i,s){A(e,i,s),n=!0},p(i,s){const a={};s[0]&1&&(a.settingValue=i[0].wakatime.api_key),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){v(e.$$.fragment,i),n=!1},d(i){E(e,i)}}}function Xo(t){let e,n;return e=new Z({props:{slot:"input",type:W.text,settingKey:"hostname",settingValue:t[0].wakatime.hostname,placeholder:t[1].wakatimeDefaultHostname}}),e.$on("changed",t[24]),{c(){O(e.$$.fragment)},m(i,s){A(e,i,s),n=!0},p(i,s){const a={};s[0]&1&&(a.settingValue=i[0].wakatime.hostname),s[0]&2&&(a.placeholder=i[1].wakatimeDefaultHostname),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){v(e.$$.fragment,i),n=!1},d(i){E(e,i)}}}function Zo(t){let e,n;return e=new Z({props:{slot:"input",type:W.number,settingKey:"timeout",settingValue:t[0].wakatime.timeout,limits:t[10]}}),e.$on("changed",t[25]),{c(){O(e.$$.fragment)},m(i,s){A(e,i,s),n=!0},p(i,s){const a={};s[0]&1&&(a.settingValue=i[0].wakatime.timeout),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){v(e.$$.fragment,i),n=!1},d(i){E(e,i)}}}function Qo(t){let e,n;return e=new Z({props:{slot:"input",type:W.checkbox,settingKey:"hide_branch_names",settingValue:t[0].wakatime.hide_branch_names}}),e.$on("changed",t[26]),{c(){O(e.$$.fragment)},m(i,s){A(e,i,s),n=!0},p(i,s){const a={};s[0]&1&&(a.settingValue=i[0].wakatime.hide_branch_names),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){v(e.$$.fragment,i),n=!1},d(i){E(e,i)}}}function el(t){let e,n;return e=new Z({props:{slot:"input",type:W.checkbox,settingKey:"hide_file_names",settingValue:t[0].wakatime.hide_file_names}}),e.$on("changed",t[27]),{c(){O(e.$$.fragment)},m(i,s){A(e,i,s),n=!0},p(i,s){const a={};s[0]&1&&(a.settingValue=i[0].wakatime.hide_file_names),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){v(e.$$.fragment,i),n=!1},d(i){E(e,i)}}}function tl(t){let e,n;return e=new Z({props:{slot:"input",type:W.checkbox,settingKey:"offline",settingValue:t[0].wakatime.offline}}),e.$on("changed",t[28]),{c(){O(e.$$.fragment)},m(i,s){A(e,i,s),n=!0},p(i,s){const a={};s[0]&1&&(a.settingValue=i[0].wakatime.offline),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){v(e.$$.fragment,i),n=!1},d(i){E(e,i)}}}function nl(t){let e,n;return e=new Z({props:{slot:"input",type:W.textarea,settingKey:"includeID",settingValue:t[0].wakatime.includeID.join(`
`),placeholder:t[3].settings.wakatimeSettings.serviceTab.includeID.placeholder,block:!0}}),e.$on("changed",t[29]),{c(){O(e.$$.fragment)},m(i,s){A(e,i,s),n=!0},p(i,s){const a={};s[0]&1&&(a.settingValue=i[0].wakatime.includeID.join(`
`)),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){v(e.$$.fragment,i),n=!1},d(i){E(e,i)}}}function il(t){let e,n;return e=new Z({props:{slot:"input",type:W.textarea,settingKey:"excludeID",settingValue:t[0].wakatime.excludeID.join(`
`),placeholder:t[3].settings.wakatimeSettings.serviceTab.excludeID.placeholder,block:!0}}),e.$on("changed",t[30]),{c(){O(e.$$.fragment)},m(i,s){A(e,i,s),n=!0},p(i,s){const a={};s[0]&1&&(a.settingValue=i[0].wakatime.excludeID.join(`
`)),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){v(e.$$.fragment,i),n=!1},d(i){E(e,i)}}}function sl(t){let e,n;return e=new Z({props:{slot:"input",type:W.textarea,settingKey:"include",settingValue:t[0].wakatime.include.join(`
`),placeholder:t[3].settings.wakatimeSettings.serviceTab.include.placeholder,block:!0}}),e.$on("changed",t[31]),{c(){O(e.$$.fragment)},m(i,s){A(e,i,s),n=!0},p(i,s){const a={};s[0]&1&&(a.settingValue=i[0].wakatime.include.join(`
`)),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){v(e.$$.fragment,i),n=!1},d(i){E(e,i)}}}function al(t){let e,n;return e=new Z({props:{slot:"input",type:W.textarea,settingKey:"exclude",settingValue:t[0].wakatime.exclude.join(`
`),placeholder:t[3].settings.wakatimeSettings.serviceTab.exclude.placeholder,block:!0}}),e.$on("changed",t[32]),{c(){O(e.$$.fragment)},m(i,s){A(e,i,s),n=!0},p(i,s){const a={};s[0]&1&&(a.settingValue=i[0].wakatime.exclude.join(`
`)),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){v(e.$$.fragment,i),n=!1},d(i){E(e,i)}}}function rl(t){let e,n,i,s,a,r,o,c,p,l,b,m,f,u,h,d,P,Q,B,R,Y,M,T,te,J,se,fe,Ve,ie,Oe,we,Ce,ae,ze,le,$,ve,We,he,ft,pe,Xe,_e,ht,Se,Re;return n=new X({props:{title:t[3].settings.wakatimeSettings.generalTab.heartbeats.title,text:t[3].settings.wakatimeSettings.generalTab.heartbeats.description,$$slots:{input:[jo]},$$scope:{ctx:t}}}),s=new X({props:{title:t[3].settings.wakatimeSettings.generalTab.project.title,text:t[3].settings.wakatimeSettings.generalTab.project.description,$$slots:{input:[qo]},$$scope:{ctx:t}}}),r=new X({props:{title:t[3].settings.wakatimeSettings.generalTab.language.title,text:t[3].settings.wakatimeSettings.generalTab.language.description,$$slots:{input:[Uo]},$$scope:{ctx:t}}}),c=new X({props:{title:t[3].settings.wakatimeSettings.generalTab.interval.title,text:t[3].settings.wakatimeSettings.generalTab.interval.description,$$slots:{input:[Fo]},$$scope:{ctx:t}}}),l=new X({props:{title:t[3].settings.wakatimeSettings.generalTab.viewCategory.title,text:t[3].settings.wakatimeSettings.generalTab.viewCategory.description,$$slots:{input:[Ho]},$$scope:{ctx:t}}}),m=new X({props:{title:t[3].settings.wakatimeSettings.generalTab.editCategory.title,text:t[3].settings.wakatimeSettings.generalTab.editCategory.description,$$slots:{input:[Vo]},$$scope:{ctx:t}}}),u=new X({props:{title:t[3].settings.wakatimeSettings.generalTab.systemName.title,text:t[3].settings.wakatimeSettings.generalTab.systemName.description,$$slots:{input:[zo]},$$scope:{ctx:t}}}),d=new X({props:{title:t[3].settings.wakatimeSettings.generalTab.systemVersion.title,text:t[3].settings.wakatimeSettings.generalTab.systemVersion.description,$$slots:{input:[Wo]},$$scope:{ctx:t}}}),Q=new X({props:{title:t[3].settings.wakatimeSettings.generalTab.systemArch.title,text:t[3].settings.wakatimeSettings.generalTab.systemArch.description,$$slots:{input:[Ko]},$$scope:{ctx:t}}}),R=new X({props:{title:t[3].settings.wakatimeSettings.generalTab.userAgent.title,text:t[3].settings.wakatimeSettings.generalTab.userAgent.description,block:!0,$$slots:{input:[xo]},$$scope:{ctx:t}}}),T=new X({props:{title:t[3].settings.wakatimeSettings.serviceTab.test.title,text:t[3].settings.wakatimeSettings.serviceTab.test.description,$$slots:{input:[Go]},$$scope:{ctx:t}}}),J=new X({props:{title:t[3].settings.wakatimeSettings.serviceTab.apiURL.title,text:t[3].settings.wakatimeSettings.serviceTab.apiURL.description,block:!0,$$slots:{input:[Jo]},$$scope:{ctx:t}}}),fe=new X({props:{title:t[3].settings.wakatimeSettings.serviceTab.apiKey.title,text:t[3].settings.wakatimeSettings.serviceTab.apiKey.description,block:!0,$$slots:{input:[Yo]},$$scope:{ctx:t}}}),ie=new X({props:{title:t[3].settings.wakatimeSettings.serviceTab.hostname.title,text:t[3].settings.wakatimeSettings.serviceTab.hostname.description,$$slots:{input:[Xo]},$$scope:{ctx:t}}}),we=new X({props:{title:t[3].settings.wakatimeSettings.serviceTab.timeout.title,text:t[3].settings.wakatimeSettings.serviceTab.timeout.description,$$slots:{input:[Zo]},$$scope:{ctx:t}}}),ae=new X({props:{title:t[3].settings.wakatimeSettings.serviceTab.hide_branch_names.title,text:t[3].settings.wakatimeSettings.serviceTab.hide_branch_names.description,$$slots:{input:[Qo]},$$scope:{ctx:t}}}),le=new X({props:{title:t[3].settings.wakatimeSettings.serviceTab.hide_file_names.title,text:t[3].settings.wakatimeSettings.serviceTab.hide_file_names.description,$$slots:{input:[el]},$$scope:{ctx:t}}}),ve=new X({props:{title:t[3].settings.wakatimeSettings.serviceTab.offline.title,text:t[3].settings.wakatimeSettings.serviceTab.offline.description.replaceAll("${1}",ln(me.OFFLINE_CACHE_PATH)),$$slots:{input:[tl]},$$scope:{ctx:t}}}),he=new X({props:{title:t[3].settings.wakatimeSettings.serviceTab.includeID.title,text:t[3].settings.wakatimeSettings.serviceTab.includeID.description,block:!0,$$slots:{input:[nl]},$$scope:{ctx:t}}}),pe=new X({props:{title:t[3].settings.wakatimeSettings.serviceTab.excludeID.title,text:t[3].settings.wakatimeSettings.serviceTab.excludeID.description,block:!0,$$slots:{input:[il]},$$scope:{ctx:t}}}),_e=new X({props:{title:t[3].settings.wakatimeSettings.serviceTab.include.title,text:t[3].settings.wakatimeSettings.serviceTab.include.description,block:!0,$$slots:{input:[sl]},$$scope:{ctx:t}}}),Se=new X({props:{title:t[3].settings.wakatimeSettings.serviceTab.exclude.title,text:t[3].settings.wakatimeSettings.serviceTab.exclude.description,block:!0,$$slots:{input:[al]},$$scope:{ctx:t}}}),{c(){e=H("div"),O(n.$$.fragment),i=I(),O(s.$$.fragment),a=I(),O(r.$$.fragment),o=I(),O(c.$$.fragment),p=I(),O(l.$$.fragment),b=I(),O(m.$$.fragment),f=I(),O(u.$$.fragment),h=I(),O(d.$$.fragment),P=I(),O(Q.$$.fragment),B=I(),O(R.$$.fragment),Y=I(),M=H("div"),O(T.$$.fragment),te=I(),O(J.$$.fragment),se=I(),O(fe.$$.fragment),Ve=I(),O(ie.$$.fragment),Oe=I(),O(we.$$.fragment),Ce=I(),O(ae.$$.fragment),ze=I(),O(le.$$.fragment),$=I(),O(ve.$$.fragment),We=I(),O(he.$$.fragment),ft=I(),O(pe.$$.fragment),Xe=I(),O(_e.$$.fragment),ht=I(),O(Se.$$.fragment),S(e,"data-type",t[9].wakatime[0].name),C(e,"fn__none",t[9].wakatime[0].key!==t[36]),S(M,"data-type",t[9].wakatime[1].name),C(M,"fn__none",t[9].wakatime[1].key!==t[36])},m(k,y){U(k,e,y),A(n,e,null),N(e,i),A(s,e,null),N(e,a),A(r,e,null),N(e,o),A(c,e,null),N(e,p),A(l,e,null),N(e,b),A(m,e,null),N(e,f),A(u,e,null),N(e,h),A(d,e,null),N(e,P),A(Q,e,null),N(e,B),A(R,e,null),U(k,Y,y),U(k,M,y),A(T,M,null),N(M,te),A(J,M,null),N(M,se),A(fe,M,null),N(M,Ve),A(ie,M,null),N(M,Oe),A(we,M,null),N(M,Ce),A(ae,M,null),N(M,ze),A(le,M,null),N(M,$),A(ve,M,null),N(M,We),A(he,M,null),N(M,ft),A(pe,M,null),N(M,Xe),A(_e,M,null),N(M,ht),A(Se,M,null),Re=!0},p(k,y){const pt={};y[0]&1|y[1]&64&&(pt.$$scope={dirty:y,ctx:k}),n.$set(pt);const Ie={};y[0]&3|y[1]&64&&(Ie.$$scope={dirty:y,ctx:k}),s.$set(Ie);const $t={};y[0]&3|y[1]&64&&($t.$$scope={dirty:y,ctx:k}),r.$set($t);const Ze={};y[0]&1|y[1]&64&&(Ze.$$scope={dirty:y,ctx:k}),c.$set(Ze);const je={};y[0]&1|y[1]&64&&(je.$$scope={dirty:y,ctx:k}),l.$set(je);const Qe={};y[0]&1|y[1]&64&&(Qe.$$scope={dirty:y,ctx:k}),m.$set(Qe);const Ot={};y[0]&3|y[1]&64&&(Ot.$$scope={dirty:y,ctx:k}),u.$set(Ot);const mt={};y[0]&3|y[1]&64&&(mt.$$scope={dirty:y,ctx:k}),d.$set(mt);const dt={};y[0]&3|y[1]&64&&(dt.$$scope={dirty:y,ctx:k}),Q.$set(dt);const re={};y[0]&5|y[1]&64&&(re.$$scope={dirty:y,ctx:k}),R.$set(re),(!Re||y[0]&512|y[1]&32)&&C(e,"fn__none",k[9].wakatime[0].key!==k[36]);const Pe={};y[1]&64&&(Pe.$$scope={dirty:y,ctx:k}),T.$set(Pe);const Ke={};y[0]&3|y[1]&64&&(Ke.$$scope={dirty:y,ctx:k}),J.$set(Ke);const j={};y[0]&1|y[1]&64&&(j.$$scope={dirty:y,ctx:k}),fe.$set(j);const z={};y[0]&3|y[1]&64&&(z.$$scope={dirty:y,ctx:k}),ie.$set(z);const L={};y[0]&1|y[1]&64&&(L.$$scope={dirty:y,ctx:k}),we.$set(L);const K={};y[0]&1|y[1]&64&&(K.$$scope={dirty:y,ctx:k}),ae.$set(K);const ke={};y[0]&1|y[1]&64&&(ke.$$scope={dirty:y,ctx:k}),le.$set(ke);const ce={};y[0]&1|y[1]&64&&(ce.$$scope={dirty:y,ctx:k}),ve.$set(ce);const V={};y[0]&1|y[1]&64&&(V.$$scope={dirty:y,ctx:k}),he.$set(V);const D={};y[0]&1|y[1]&64&&(D.$$scope={dirty:y,ctx:k}),pe.$set(D);const ue={};y[0]&1|y[1]&64&&(ue.$$scope={dirty:y,ctx:k}),_e.$set(ue);const et={};y[0]&1|y[1]&64&&(et.$$scope={dirty:y,ctx:k}),Se.$set(et),(!Re||y[0]&512|y[1]&32)&&C(M,"fn__none",k[9].wakatime[1].key!==k[36])},i(k){Re||(_(n.$$.fragment,k),_(s.$$.fragment,k),_(r.$$.fragment,k),_(c.$$.fragment,k),_(l.$$.fragment,k),_(m.$$.fragment,k),_(u.$$.fragment,k),_(d.$$.fragment,k),_(Q.$$.fragment,k),_(R.$$.fragment,k),_(T.$$.fragment,k),_(J.$$.fragment,k),_(fe.$$.fragment,k),_(ie.$$.fragment,k),_(we.$$.fragment,k),_(ae.$$.fragment,k),_(le.$$.fragment,k),_(ve.$$.fragment,k),_(he.$$.fragment,k),_(pe.$$.fragment,k),_(_e.$$.fragment,k),_(Se.$$.fragment,k),Re=!0)},o(k){v(n.$$.fragment,k),v(s.$$.fragment,k),v(r.$$.fragment,k),v(c.$$.fragment,k),v(l.$$.fragment,k),v(m.$$.fragment,k),v(u.$$.fragment,k),v(d.$$.fragment,k),v(Q.$$.fragment,k),v(R.$$.fragment,k),v(T.$$.fragment,k),v(J.$$.fragment,k),v(fe.$$.fragment,k),v(ie.$$.fragment,k),v(we.$$.fragment,k),v(ae.$$.fragment,k),v(le.$$.fragment,k),v(ve.$$.fragment,k),v(he.$$.fragment,k),v(pe.$$.fragment,k),v(_e.$$.fragment,k),v(Se.$$.fragment,k),Re=!1},d(k){k&&(q(e),q(Y),q(M)),E(n),E(s),E(r),E(c),E(l),E(m),E(u),E(d),E(Q),E(R),E(T),E(J),E(fe),E(ie),E(we),E(ae),E(le),E(ve),E(he),E(pe),E(_e),E(Se)}}}function ol(t){let e,n;return e=new go({props:{focus:fl,tabs:t[9].wakatime,$$slots:{default:[rl,({focus:i})=>({36:i}),({focus:i})=>[0,i?32:0]]},$$scope:{ctx:t}}}),{c(){O(e.$$.fragment)},m(i,s){A(e,i,s),n=!0},p(i,s){const a={};s[0]&7|s[1]&96&&(a.$$scope={dirty:s,ctx:i}),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){v(e.$$.fragment,i),n=!1},d(i){E(e,i)}}}function ll(t){let e,n,i,s;return e=new ei({props:{display:t[8][0].key===t[35],$$slots:{default:[Io]},$$scope:{ctx:t}}}),i=new ei({props:{display:t[8][1].key===t[35],$$slots:{default:[ol]},$$scope:{ctx:t}}}),{c(){O(e.$$.fragment),n=I(),O(i.$$.fragment)},m(a,r){A(e,a,r),U(a,n,r),A(i,a,r),s=!0},p(a,r){const o={};r[1]&16&&(o.display=a[8][0].key===a[35]),r[1]&64&&(o.$$scope={dirty:r,ctx:a}),e.$set(o);const c={};r[1]&16&&(c.display=a[8][1].key===a[35]),r[0]&7|r[1]&64&&(c.$$scope={dirty:r,ctx:a}),i.$set(c)},i(a){s||(_(e.$$.fragment,a),_(i.$$.fragment,a),s=!0)},o(a){v(e.$$.fragment,a),v(i.$$.fragment,a),s=!1},d(a){a&&q(n),E(e,a),E(i,a)}}}function cl(t){let e,n;return e=new Zr({props:{panels:t[8],focus:ul,$$slots:{default:[ll,({focus:i})=>({35:i}),({focus:i})=>[0,i?16:0]]},$$scope:{ctx:t}}}),{c(){O(e.$$.fragment)},m(i,s){A(e,i,s),n=!0},p(i,s){const a={};s[0]&7|s[1]&80&&(a.$$scope={dirty:s,ctx:i}),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){v(e.$$.fragment,i),n=!1},d(i){E(e,i)}}}let ul=0,fl=0;function hl(t,e,n){let{config:i}=e,{plugin:s}=e,a=s.wakatimeDefaultUserAgent;const r=s.i18n;async function o(){await s.updateConfig(i),n(2,a=s.wakatimeDefaultUserAgent)}function c(){s.siyuan.confirm(r.settings.generalSettings.reset.title,r.settings.generalSettings.reset.description,async()=>{await s.resetConfig(),globalThis.location.reload()})}function p(){s.siyuan.confirm(r.settings.generalSettings.cleanCache.title,r.settings.generalSettings.cleanCache.description,async()=>{await s.clearCache(),globalThis.location.reload()})}async function l(){const $=await s.testService();return $?s.siyuan.showMessage(r.settings.wakatimeSettings.serviceTab.test.messages.success.replaceAll("${1}",ln(s.wakatimeApiBaseUrl)),void 0,"info"):s.siyuan.showMessage(r.settings.wakatimeSettings.serviceTab.test.messages.error.replaceAll("${1}",ln(s.wakatimeApiBaseUrl)),void 0,"error"),$}const b=[{key:0,text:r.settings.generalSettings.title,name:r.settings.generalSettings.title,icon:"#iconSettings"},{key:1,text:r.settings.wakatimeSettings.title,name:r.settings.wakatimeSettings.title,icon:"#icon-wakatime"}],m={wakatime:[{key:0,text:r.settings.wakatimeSettings.generalTab.title,name:r.settings.wakatimeSettings.generalTab.title,icon:"⚙"},{key:1,text:r.settings.wakatimeSettings.serviceTab.title,name:r.settings.wakatimeSettings.serviceTab.title,icon:"🌐"}]},f={min:1,max:1/0,step:1},u=[{key:x.Coding,text:x.Coding},{key:x.Building,text:x.Building},{key:x.Indexing,text:x.Indexing},{key:x.Debugging,text:x.Debugging},{key:x.Browsing,text:x.Browsing},{key:x.RunningTests,text:x.RunningTests},{key:x.WritingTests,text:x.WritingTests},{key:x.ManualTesting,text:x.ManualTesting},{key:x.WritingDocs,text:x.WritingDocs},{key:x.CodeReviewing,text:x.CodeReviewing},{key:x.Researching,text:x.Researching},{key:x.Learning,text:x.Learning},{key:x.Designing,text:x.Designing}],h=async $=>{n(0,i.wakatime.heartbeats=$.detail.value,i),await o()},d=async $=>{n(0,i.wakatime.project=$.detail.value,i),await o()},P=async $=>{n(0,i.wakatime.language=$.detail.value,i),await o()},Q=async $=>{n(0,i.wakatime.interval=$.detail.value,i),await o()},B=async $=>{n(0,i.wakatime.view.category=$.detail.value,i),await o()},R=async $=>{n(0,i.wakatime.edit.category=$.detail.value,i),await o()},Y=async $=>{n(0,i.wakatime.system_name=$.detail.value,i),await o()},M=async $=>{n(0,i.wakatime.system_version=$.detail.value,i),await o()},T=async $=>{n(0,i.wakatime.system_arch=$.detail.value,i),await o()},te=async $=>{n(0,i.wakatime.useragent=$.detail.value,i),await o()},J=async $=>{n(0,i.wakatime.api_url=$.detail.value,i),await o(),await l()},se=async $=>{n(0,i.wakatime.api_key=$.detail.value,i),await o(),await l()},fe=async $=>{n(0,i.wakatime.hostname=$.detail.value,i),await o()},Ve=async $=>{n(0,i.wakatime.timeout=$.detail.value,i),await o()},ie=async $=>{n(0,i.wakatime.hide_branch_names=$.detail.value,i),await o()},Oe=async $=>{n(0,i.wakatime.hide_file_names=$.detail.value,i),await o()},we=async $=>{n(0,i.wakatime.offline=$.detail.value,i),await o()},Ce=async $=>{n(0,i.wakatime.includeID=$.detail.value.split(`
`),i),await o()},ae=async $=>{n(0,i.wakatime.excludeID=$.detail.value.split(`
`),i),await o()},ze=async $=>{n(0,i.wakatime.include=$.detail.value.split(`
`),i),await o()},le=async $=>{n(0,i.wakatime.exclude=$.detail.value.split(`
`),i),await o()};return t.$$set=$=>{"config"in $&&n(0,i=$.config),"plugin"in $&&n(1,s=$.plugin)},[i,s,a,r,o,c,p,l,b,m,f,u,h,d,P,Q,B,R,Y,M,T,te,J,se,fe,Ve,ie,Oe,we,Ce,ae,ze,le]}class pl extends He{constructor(e){super(),Fe(this,e,hl,cl,Ue,{config:0,plugin:1},null,[-1,-1])}}ml();gl();const di=dl();function ml(){switch(st.getFrontend()){case"desktop":case"desktop-window":case"browser-desktop":return!0;case"mobile":case"browser-mobile":return!1;default:return!1}}function dl(){switch(st.getFrontend()){case"mobile":case"browser-mobile":return!0;case"desktop":case"desktop-window":case"browser-desktop":return!1;default:return!1}}function gl(){switch(st.getFrontend()){case"browser-desktop":case"browser-mobile":return!0;case"desktop":case"desktop-window":case"mobile":return!1;default:return!1}}var bl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var cn={exports:{}};(function(t,e){(function(n,i){var s="1.0.37",a="",r="?",o="function",c="undefined",p="object",l="string",b="major",m="model",f="name",u="type",h="vendor",d="version",P="architecture",Q="console",B="mobile",R="tablet",Y="smarttv",M="wearable",T="embedded",te=500,J="Amazon",se="Apple",fe="ASUS",Ve="BlackBerry",ie="Browser",Oe="Chrome",we="Edge",Ce="Firefox",ae="Google",ze="Huawei",le="LG",$="Microsoft",ve="Motorola",We="Opera",he="Samsung",ft="Sharp",pe="Sony",Xe="Xiaomi",_e="Zebra",ht="Facebook",Se="Chromium OS",Re="Mac OS",k=function(j,z){var L={};for(var K in j)z[K]&&z[K].length%2===0?L[K]=z[K].concat(j[K]):L[K]=j[K];return L},y=function(j){for(var z={},L=0;L<j.length;L++)z[j[L].toUpperCase()]=j[L];return z},pt=function(j,z){return typeof j===l?Ie(z).indexOf(Ie(j))!==-1:!1},Ie=function(j){return j.toLowerCase()},$t=function(j){return typeof j===l?j.replace(/[^\d\.]/g,a).split(".")[0]:i},Ze=function(j,z){if(typeof j===l)return j=j.replace(/^\s\s*/,a),typeof z===c?j:j.substring(0,te)},je=function(j,z){for(var L=0,K,ke,ce,V,D,ue;L<z.length&&!D;){var et=z[L],vn=z[L+1];for(K=ke=0;K<et.length&&!D&&et[K];)if(D=et[K++].exec(j),D)for(ce=0;ce<vn.length;ce++)ue=D[++ke],V=vn[ce],typeof V===p&&V.length>0?V.length===2?typeof V[1]==o?this[V[0]]=V[1].call(this,ue):this[V[0]]=V[1]:V.length===3?typeof V[1]===o&&!(V[1].exec&&V[1].test)?this[V[0]]=ue?V[1].call(this,ue,V[2]):i:this[V[0]]=ue?ue.replace(V[1],V[2]):i:V.length===4&&(this[V[0]]=ue?V[3].call(this,ue.replace(V[1],V[2])):i):this[V]=ue||i;L+=2}},Qe=function(j,z){for(var L in z)if(typeof z[L]===p&&z[L].length>0){for(var K=0;K<z[L].length;K++)if(pt(z[L][K],j))return L===r?i:L}else if(pt(z[L],j))return L===r?i:L;return j},Ot={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},mt={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},dt={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[d,[f,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[d,[f,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[f,d],[/opios[\/ ]+([\w\.]+)/i],[d,[f,We+" Mini"]],[/\bopr\/([\w\.]+)/i],[d,[f,We]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[d,[f,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[f,d],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[d,[f,"UC"+ie]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[d,[f,"WeChat"]],[/konqueror\/([\w\.]+)/i],[d,[f,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[d,[f,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[d,[f,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[d,[f,"Smart Lenovo "+ie]],[/(avast|avg)\/([\w\.]+)/i],[[f,/(.+)/,"$1 Secure "+ie],d],[/\bfocus\/([\w\.]+)/i],[d,[f,Ce+" Focus"]],[/\bopt\/([\w\.]+)/i],[d,[f,We+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[d,[f,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[d,[f,"Dolphin"]],[/coast\/([\w\.]+)/i],[d,[f,We+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[d,[f,"MIUI "+ie]],[/fxios\/([-\w\.]+)/i],[d,[f,Ce]],[/\bqihu|(qi?ho?o?|360)browser/i],[[f,"360 "+ie]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[f,/(.+)/,"$1 "+ie],d],[/samsungbrowser\/([\w\.]+)/i],[d,[f,he+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[f,/_/g," "],d],[/metasr[\/ ]?([\d\.]+)/i],[d,[f,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[f,"Sogou Mobile"],d],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[f,d],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[f],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[f,ht],d],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[f,d],[/\bgsa\/([\w\.]+) .*safari\//i],[d,[f,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[d,[f,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[d,[f,Oe+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[f,Oe+" WebView"],d],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[d,[f,"Android "+ie]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[f,d],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[d,[f,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[d,f],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[f,[d,Qe,Ot]],[/(webkit|khtml)\/([\w\.]+)/i],[f,d],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[f,"Netscape"],d],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[d,[f,Ce+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[f,d],[/(cobalt)\/([\w\.]+)/i],[f,[d,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[P,"amd64"]],[/(ia32(?=;))/i],[[P,Ie]],[/((?:i[346]|x)86)[;\)]/i],[[P,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[P,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[P,"armhf"]],[/windows (ce|mobile); ppc;/i],[[P,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[P,/ower/,a,Ie]],[/(sun4\w)[;\)]/i],[[P,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[P,Ie]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[m,[h,he],[u,R]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[m,[h,he],[u,B]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[m,[h,se],[u,B]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[m,[h,se],[u,R]],[/(macintosh);/i],[m,[h,se]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[m,[h,ft],[u,B]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[m,[h,ze],[u,R]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[m,[h,ze],[u,B]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[m,/_/g," "],[h,Xe],[u,B]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[m,/_/g," "],[h,Xe],[u,R]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[m,[h,"OPPO"],[u,B]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[m,[h,"Vivo"],[u,B]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[m,[h,"Realme"],[u,B]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[m,[h,ve],[u,B]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[m,[h,ve],[u,R]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[m,[h,le],[u,R]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[m,[h,le],[u,B]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[m,[h,"Lenovo"],[u,R]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[m,/_/g," "],[h,"Nokia"],[u,B]],[/(pixel c)\b/i],[m,[h,ae],[u,R]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[m,[h,ae],[u,B]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[m,[h,pe],[u,B]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[m,"Xperia Tablet"],[h,pe],[u,R]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[m,[h,"OnePlus"],[u,B]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[m,[h,J],[u,R]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[m,/(.+)/g,"Fire Phone $1"],[h,J],[u,B]],[/(playbook);[-\w\),; ]+(rim)/i],[m,h,[u,R]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[m,[h,Ve],[u,B]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[m,[h,fe],[u,R]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[m,[h,fe],[u,B]],[/(nexus 9)/i],[m,[h,"HTC"],[u,R]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[h,[m,/_/g," "],[u,B]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[m,[h,"Acer"],[u,R]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[m,[h,"Meizu"],[u,B]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[m,[h,"Ulefone"],[u,B]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[h,m,[u,B]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[h,m,[u,R]],[/(surface duo)/i],[m,[h,$],[u,R]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[m,[h,"Fairphone"],[u,B]],[/(u304aa)/i],[m,[h,"AT&T"],[u,B]],[/\bsie-(\w*)/i],[m,[h,"Siemens"],[u,B]],[/\b(rct\w+) b/i],[m,[h,"RCA"],[u,R]],[/\b(venue[\d ]{2,7}) b/i],[m,[h,"Dell"],[u,R]],[/\b(q(?:mv|ta)\w+) b/i],[m,[h,"Verizon"],[u,R]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[m,[h,"Barnes & Noble"],[u,R]],[/\b(tm\d{3}\w+) b/i],[m,[h,"NuVision"],[u,R]],[/\b(k88) b/i],[m,[h,"ZTE"],[u,R]],[/\b(nx\d{3}j) b/i],[m,[h,"ZTE"],[u,B]],[/\b(gen\d{3}) b.+49h/i],[m,[h,"Swiss"],[u,B]],[/\b(zur\d{3}) b/i],[m,[h,"Swiss"],[u,R]],[/\b((zeki)?tb.*\b) b/i],[m,[h,"Zeki"],[u,R]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[h,"Dragon Touch"],m,[u,R]],[/\b(ns-?\w{0,9}) b/i],[m,[h,"Insignia"],[u,R]],[/\b((nxa|next)-?\w{0,9}) b/i],[m,[h,"NextBook"],[u,R]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[h,"Voice"],m,[u,B]],[/\b(lvtel\-)?(v1[12]) b/i],[[h,"LvTel"],m,[u,B]],[/\b(ph-1) /i],[m,[h,"Essential"],[u,B]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[m,[h,"Envizen"],[u,R]],[/\b(trio[-\w\. ]+) b/i],[m,[h,"MachSpeed"],[u,R]],[/\btu_(1491) b/i],[m,[h,"Rotor"],[u,R]],[/(shield[\w ]+) b/i],[m,[h,"Nvidia"],[u,R]],[/(sprint) (\w+)/i],[h,m,[u,B]],[/(kin\.[onetw]{3})/i],[[m,/\./g," "],[h,$],[u,B]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[m,[h,_e],[u,R]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[m,[h,_e],[u,B]],[/smart-tv.+(samsung)/i],[h,[u,Y]],[/hbbtv.+maple;(\d+)/i],[[m,/^/,"SmartTV"],[h,he],[u,Y]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[h,le],[u,Y]],[/(apple) ?tv/i],[h,[m,se+" TV"],[u,Y]],[/crkey/i],[[m,Oe+"cast"],[h,ae],[u,Y]],[/droid.+aft(\w+)( bui|\))/i],[m,[h,J],[u,Y]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[m,[h,ft],[u,Y]],[/(bravia[\w ]+)( bui|\))/i],[m,[h,pe],[u,Y]],[/(mitv-\w{5}) bui/i],[m,[h,Xe],[u,Y]],[/Hbbtv.*(technisat) (.*);/i],[h,m,[u,Y]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[h,Ze],[m,Ze],[u,Y]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[u,Y]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[h,m,[u,Q]],[/droid.+; (shield) bui/i],[m,[h,"Nvidia"],[u,Q]],[/(playstation [345portablevi]+)/i],[m,[h,pe],[u,Q]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[m,[h,$],[u,Q]],[/((pebble))app/i],[h,m,[u,M]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[m,[h,se],[u,M]],[/droid.+; (glass) \d/i],[m,[h,ae],[u,M]],[/droid.+; (wt63?0{2,3})\)/i],[m,[h,_e],[u,M]],[/(quest( 2| pro)?)/i],[m,[h,ht],[u,M]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[h,[u,T]],[/(aeobc)\b/i],[m,[h,J],[u,T]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[m,[u,B]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[m,[u,R]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[u,R]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[u,B]],[/(android[-\w\. ]{0,9});.+buil/i],[m,[h,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[d,[f,we+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[d,[f,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[f,d],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[d,f]],os:[[/microsoft (windows) (vista|xp)/i],[f,d],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[f,[d,Qe,mt]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[d,Qe,mt],[f,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[d,/_/g,"."],[f,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[f,Re],[d,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[d,f],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[f,d],[/\(bb(10);/i],[d,[f,Ve]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[d,[f,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[d,[f,Ce+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[d,[f,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[d,[f,"watchOS"]],[/crkey\/([\d\.]+)/i],[d,[f,Oe+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[f,Se],d],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[f,d],[/(sunos) ?([\w\.\d]*)/i],[[f,"Solaris"],d],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[f,d]]},re=function(j,z){if(typeof j===p&&(z=j,j=i),!(this instanceof re))return new re(j,z).getResult();var L=typeof n!==c&&n.navigator?n.navigator:i,K=j||(L&&L.userAgent?L.userAgent:a),ke=L&&L.userAgentData?L.userAgentData:i,ce=z?k(dt,z):dt,V=L&&L.userAgent==K;return this.getBrowser=function(){var D={};return D[f]=i,D[d]=i,je.call(D,K,ce.browser),D[b]=$t(D[d]),V&&L&&L.brave&&typeof L.brave.isBrave==o&&(D[f]="Brave"),D},this.getCPU=function(){var D={};return D[P]=i,je.call(D,K,ce.cpu),D},this.getDevice=function(){var D={};return D[h]=i,D[m]=i,D[u]=i,je.call(D,K,ce.device),V&&!D[u]&&ke&&ke.mobile&&(D[u]=B),V&&D[m]=="Macintosh"&&L&&typeof L.standalone!==c&&L.maxTouchPoints&&L.maxTouchPoints>2&&(D[m]="iPad",D[u]=R),D},this.getEngine=function(){var D={};return D[f]=i,D[d]=i,je.call(D,K,ce.engine),D},this.getOS=function(){var D={};return D[f]=i,D[d]=i,je.call(D,K,ce.os),V&&!D[f]&&ke&&ke.platform!="Unknown"&&(D[f]=ke.platform.replace(/chrome os/i,Se).replace(/macos/i,Re)),D},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return K},this.setUA=function(D){return K=typeof D===l&&D.length>te?Ze(D,te):D,this},this.setUA(K),this};re.VERSION=s,re.BROWSER=y([f,d,b]),re.CPU=y([P]),re.DEVICE=y([m,h,u,Q,B,Y,R,M,T]),re.ENGINE=re.OS=y([f,d]),t.exports&&(e=t.exports=re),e.UAParser=re;var Pe=typeof n!==c&&(n.jQuery||n.Zepto);if(Pe&&!Pe.ua){var Ke=new re;Pe.ua=Ke.getResult(),Pe.ua.get=function(){return Ke.getUA()},Pe.ua.set=function(j){Ke.setUA(j);var z=Ke.getResult();for(var L in z)Pe.ua[L]=z[L]}}})(typeof window=="object"?window:bl)})(cn,cn.exports);var wl=cn.exports;const _l=new wl.UAParser,gi=_l.getResult();class kl{constructor(e,n=!0){G(this,"FLAG_FIREFOX");this.label=e,this.collapsed=n,this.FLAG_FIREFOX=gi.browser.name==="Firefox"||gi.engine.name==="Gecko"}stdout(e,n,...i){const s=this.FLAG_FIREFOX?`[${this.label}] - <${e.name.toUpperCase()}>`:`[\x1B[4m${this.label}\x1B[0m] - <\x1B[1m${e.name.toUpperCase()}\x1B[0m>`;if(this.collapsed?globalThis.console.groupCollapsed(s):globalThis.console.group(s),n)for(const a of i)Array.isArray(a)?e(...a):e(a);else e(...i);globalThis.console.trace(),globalThis.console.groupEnd()}clear(...e){this.stdout(globalThis.console.clear,!1,...e)}countReset(...e){this.stdout(globalThis.console.countReset,!1,...e)}count(...e){this.stdout(globalThis.console.count,!1,...e)}counts(...e){this.stdout(globalThis.console.count,!0,...e)}assert(...e){this.stdout(globalThis.console.assert,!1,...e)}asserts(...e){this.stdout(globalThis.console.assert,!0,...e)}dir(...e){this.stdout(globalThis.console.dir,!1,...e)}dirs(...e){this.stdout(globalThis.console.dir,!0,...e)}dirxml(...e){this.stdout(globalThis.console.dirxml,!1,...e)}dirxmls(...e){this.stdout(globalThis.console.dirxml,!0,...e)}table(...e){this.stdout(globalThis.console.table,!1,...e)}tables(...e){this.stdout(globalThis.console.table,!0,...e)}debug(...e){this.stdout(globalThis.console.debug,!1,...e)}debugs(...e){this.stdout(globalThis.console.debug,!0,...e)}info(...e){this.stdout(globalThis.console.info,!1,...e)}infos(...e){this.stdout(globalThis.console.info,!0,...e)}log(...e){this.stdout(globalThis.console.log,!1,...e)}logs(...e){this.stdout(globalThis.console.log,!0,...e)}warn(...e){this.stdout(globalThis.console.warn,!1,...e)}warns(...e){this.stdout(globalThis.console.warn,!0,...e)}error(...e){this.stdout(globalThis.console.error,!1,...e)}errors(...e){this.stdout(globalThis.console.error,!0,...e)}}var yl=function(e){return vl(e)&&!Sl(e)};function vl(t){return!!t&&typeof t=="object"}function Sl(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||El(t)}var Tl=typeof Symbol=="function"&&Symbol.for,Al=Tl?Symbol.for("react.element"):60103;function El(t){return t.$$typeof===Al}function $l(t){return Array.isArray(t)?[]:{}}function St(t,e){return e.clone!==!1&&e.isMergeableObject(t)?ct($l(t),t,e):t}function Ol(t,e,n){return t.concat(e).map(function(i){return St(i,n)})}function Cl(t,e){if(!e.customMerge)return ct;var n=e.customMerge(t);return typeof n=="function"?n:ct}function Rl(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return Object.propertyIsEnumerable.call(t,e)}):[]}function bi(t){return Object.keys(t).concat(Rl(t))}function Qi(t,e){try{return e in t}catch{return!1}}function Pl(t,e){return Qi(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function Nl(t,e,n){var i={};return n.isMergeableObject(t)&&bi(t).forEach(function(s){i[s]=St(t[s],n)}),bi(e).forEach(function(s){Pl(t,s)||(Qi(t,s)&&n.isMergeableObject(e[s])?i[s]=Cl(s,n)(t[s],e[s],n):i[s]=St(e[s],n))}),i}function ct(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||Ol,n.isMergeableObject=n.isMergeableObject||yl,n.cloneUnlessOtherwiseSpecified=St;var i=Array.isArray(e),s=Array.isArray(t),a=i===s;return a?i?n.arrayMerge(t,e,n):Nl(t,e,n):St(e,n)}ct.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(i,s){return ct(i,s,n)},{})};var Dl=ct,Bl=Dl;const Ll=yn(Bl);function wi(...t){return Ll.all(t,{arrayMerge:(e,n,i)=>n})}function Ae(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function _i(t,e){for(var n="",i=0,s=-1,a=0,r,o=0;o<=t.length;++o){if(o<t.length)r=t.charCodeAt(o);else{if(r===47)break;r=47}if(r===47){if(!(s===o-1||a===1))if(s!==o-1&&a===2){if(n.length<2||i!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){var c=n.lastIndexOf("/");if(c!==n.length-1){c===-1?(n="",i=0):(n=n.slice(0,c),i=n.length-1-n.lastIndexOf("/")),s=o,a=0;continue}}else if(n.length===2||n.length===1){n="",i=0,s=o,a=0;continue}}e&&(n.length>0?n+="/..":n="..",i=2)}else n.length>0?n+="/"+t.slice(s+1,o):n=t.slice(s+1,o),i=o-s-1;s=o,a=0}else r===46&&a!==-1?++a:a=-1}return n}function Ml(t,e){var n=e.dir||e.root,i=e.base||(e.name||"")+(e.ext||"");return n?n===e.root?n+i:n+t+i:i}var rt={resolve:function(){for(var e="",n=!1,i,s=arguments.length-1;s>=-1&&!n;s--){var a;s>=0?a=arguments[s]:(i===void 0&&(i=process.cwd()),a=i),Ae(a),a.length!==0&&(e=a+"/"+e,n=a.charCodeAt(0)===47)}return e=_i(e,!n),n?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if(Ae(e),e.length===0)return".";var n=e.charCodeAt(0)===47,i=e.charCodeAt(e.length-1)===47;return e=_i(e,!n),e.length===0&&!n&&(e="."),e.length>0&&i&&(e+="/"),n?"/"+e:e},isAbsolute:function(e){return Ae(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,n=0;n<arguments.length;++n){var i=arguments[n];Ae(i),i.length>0&&(e===void 0?e=i:e+="/"+i)}return e===void 0?".":rt.normalize(e)},relative:function(e,n){if(Ae(e),Ae(n),e===n||(e=rt.resolve(e),n=rt.resolve(n),e===n))return"";for(var i=1;i<e.length&&e.charCodeAt(i)===47;++i);for(var s=e.length,a=s-i,r=1;r<n.length&&n.charCodeAt(r)===47;++r);for(var o=n.length,c=o-r,p=a<c?a:c,l=-1,b=0;b<=p;++b){if(b===p){if(c>p){if(n.charCodeAt(r+b)===47)return n.slice(r+b+1);if(b===0)return n.slice(r+b)}else a>p&&(e.charCodeAt(i+b)===47?l=b:b===0&&(l=0));break}var m=e.charCodeAt(i+b),f=n.charCodeAt(r+b);if(m!==f)break;m===47&&(l=b)}var u="";for(b=i+l+1;b<=s;++b)(b===s||e.charCodeAt(b)===47)&&(u.length===0?u+="..":u+="/..");return u.length>0?u+n.slice(r+l):(r+=l,n.charCodeAt(r)===47&&++r,n.slice(r))},_makeLong:function(e){return e},dirname:function(e){if(Ae(e),e.length===0)return".";for(var n=e.charCodeAt(0),i=n===47,s=-1,a=!0,r=e.length-1;r>=1;--r)if(n=e.charCodeAt(r),n===47){if(!a){s=r;break}}else a=!1;return s===-1?i?"/":".":i&&s===1?"//":e.slice(0,s)},basename:function(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');Ae(e);var i=0,s=-1,a=!0,r;if(n!==void 0&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var o=n.length-1,c=-1;for(r=e.length-1;r>=0;--r){var p=e.charCodeAt(r);if(p===47){if(!a){i=r+1;break}}else c===-1&&(a=!1,c=r+1),o>=0&&(p===n.charCodeAt(o)?--o===-1&&(s=r):(o=-1,s=c))}return i===s?s=c:s===-1&&(s=e.length),e.slice(i,s)}else{for(r=e.length-1;r>=0;--r)if(e.charCodeAt(r)===47){if(!a){i=r+1;break}}else s===-1&&(a=!1,s=r+1);return s===-1?"":e.slice(i,s)}},extname:function(e){Ae(e);for(var n=-1,i=0,s=-1,a=!0,r=0,o=e.length-1;o>=0;--o){var c=e.charCodeAt(o);if(c===47){if(!a){i=o+1;break}continue}s===-1&&(a=!1,s=o+1),c===46?n===-1?n=o:r!==1&&(r=1):n!==-1&&(r=-1)}return n===-1||s===-1||r===0||r===1&&n===s-1&&n===i+1?"":e.slice(n,s)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return Ml("/",e)},parse:function(e){Ae(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return n;var i=e.charCodeAt(0),s=i===47,a;s?(n.root="/",a=1):a=0;for(var r=-1,o=0,c=-1,p=!0,l=e.length-1,b=0;l>=a;--l){if(i=e.charCodeAt(l),i===47){if(!p){o=l+1;break}continue}c===-1&&(p=!1,c=l+1),i===46?r===-1?r=l:b!==1&&(b=1):r!==-1&&(b=-1)}return r===-1||c===-1||b===0||b===1&&r===c-1&&r===o+1?c!==-1&&(o===0&&s?n.base=n.name=e.slice(1,c):n.base=n.name=e.slice(o,c)):(o===0&&s?(n.name=e.slice(1,r),n.base=e.slice(1,c)):(n.name=e.slice(o,r),n.base=e.slice(o,c)),n.ext=e.slice(r,c)),o>0?n.dir=e.slice(0,o-1):s&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};rt.posix=rt;var Il=rt;const jl=yn(Il);function ql(t){return jl.parse(t)}/*!
 * normalize-path <https://github.com/jonschlinkert/normalize-path>
 *
 * Copyright (c) 2014-2018, Jon Schlinkert.
 * Released under the MIT License.
 */var Ul=function(t,e){if(typeof t!="string")throw new TypeError("expected path to be a string");if(t==="\\"||t==="/")return"/";var n=t.length;if(n<=1)return t;var i="";if(n>4&&t[3]==="\\"){var s=t[2];(s==="?"||s===".")&&t.slice(0,2)==="\\\\"&&(t=t.slice(2),i="//")}var a=t.split(/[/\\]+/);return e!==!1&&a[a.length-1]===""&&a.pop(),i+a.join("/")};const Fl=yn(Ul);class Hl{constructor(e,n,i,s){G(this,"map",new Map);G(this,"counter",Math.random());G(this,"errerEventListener",async e=>{this.logger.warn(e)});G(this,"messageEventListener",async e=>{const n=e.data;switch(n.type){case"call":{try{if(n.uuid&&n.uuid!==this.uuid)break;if(n.handler.name in this.handlers){const i=this.handlers[n.handler.name],s=await i.func.call(i.this,...n.handler.args),a={type:"return",id:n.id,handler:{name:n.handler.name,result:s}};this.port.postMessage(a)}}catch(i){const s={type:"error",id:n.id,error:i};this.port.postMessage(s)}break}case"error":{const i=this.map.get(n.id);i&&(this.map.delete(n.id),i.reject(n.error));break}case"return":{const i=this.map.get(n.id);i&&(this.map.delete(n.id),i.resolve(n.handler.result));break}}});this.port=e,this.logger=n,this.handlers=i,this.uuid=s,this.port.addEventListener("error",this.errerEventListener),this.port.addEventListener("messageerror",this.errerEventListener),this.port.addEventListener("message",this.messageEventListener)}async call(e,...n){return new Promise((i,s)=>{const a=this.counter++;this.map.set(a,{resolve:i,reject:s});const r={type:"call",id:a,handler:{name:e,args:n}};this.port.postMessage(r)})}async singleCall(e,n,...i){return new Promise((s,a)=>{const r=this.counter++;this.map.set(r,{resolve:s,reject:a});const o={type:"call",id:r,uuid:n,handler:{name:e,args:i}};this.port.postMessage(o)})}}function*Vl(t=0){for(;;)yield t++}const zl=Vl(Math.round(Math.random()*(36**8-1)));function Wl(t,e){return`${t.getFullYear().toString().padStart(4,"0")}${(t.getMonth()+1).toString().padStart(2,"0")}${t.getDate().toString().padStart(2,"0")}${t.getHours().toString().padStart(2,"0")}${t.getMinutes().toString().padStart(2,"0")}${t.getSeconds().toString().padStart(2,"0")}-${e.toString(36).padStart(7,"0").slice(-7)}`}function Kl(t=new Date,e=zl){return Wl(t,e.next().value)}class xl extends Hl{constructor(e,n,i={},s=Kl()){super(e,n,i,s)}async ping(e=1e3){const n=Date.now();return new Promise((i,s)=>{const a=setTimeout(()=>{s(new Error(`timeout: ${e}`))},e);this.port.addEventListener("message",r=>{r.data==="pong"&&(clearTimeout(a),i(Date.now()-n))}),this.port.postMessage("ping")})}terminate(){switch(!0){case"terminate"in this.port:this.port.terminate();break;case"close"in this.port:this.port.close();break}}}const Jt={wakatime:{api_url:"",api_key:"",timeout:30,hide_branch_names:!0,hide_file_names:!0,offline:!1,includeID:[],excludeID:[],include:[],exclude:[],heartbeats:!1,project:"",language:"",hostname:"",interval:60,view:{category:x.Browsing},edit:{category:x.Learning},system_name:"",system_version:"unknown",system_arch:"unknown",useragent:""}};async function Gl(t){return new Promise(e=>{setTimeout(e,t)})}const kt=class kt extends st.Plugin{constructor(n){super(n);G(this,"siyuan",st);G(this,"logger");G(this,"client");G(this,"SETTINGS_DIALOG_ID");G(this,"config",Jt);G(this,"worker");G(this,"bridge");G(this,"heartbeatTimer",0);G(this,"cacheCheckTimer",0);G(this,"webSocketMainEventListener",n=>{if(n.detail.cmd==="transactions"){const i=n.detail.data;i==null||i.forEach(s=>{var a;(a=s.doOperations)==null||a.forEach(r=>{var o;switch(r.action){case"create":case"update":case"insert":case"move":case"append":case"appendInsert":case"prependInsert":case"foldHeading":case"unfoldHeading":case"setAttrs":case"doUpdateUpdated":r.id&&((o=this.bridge)==null||o.call("addEditEvent",r.id));break}})})}});G(this,"protyleEventListener",n=>{var s;const i=n.detail.protyle;i.notebookId&&i.path&&i.block.rootID&&((s=this.bridge)==null||s.call("addViewEvent",{id:i.block.rootID,box:i.notebookId,path:i.path}))});G(this,"clickEditorContentEventListener",n=>{var s;const i=n.detail.protyle;i.notebookId&&i.path&&i.block.rootID&&((s=this.bridge)==null||s.call("addViewEvent",{id:i.block.rootID,box:i.notebookId,path:i.path}))});this.logger=new kl(this.name),this.client=new Pr(void 0,"fetch"),this.SETTINGS_DIALOG_ID=`${this.name}-settings-dialog`}onload(){this.addIcons([ns,is].join("")),this.loadData(kt.GLOBAL_CONFIG_NAME).then(n=>{this.config=wi(Jt,n||{})}).catch(n=>this.logger.error(n)).finally(async()=>{var i;if(this.initBridge(),!await this.isWorkerRunning()){for(this.initWorker();await this.isWorkerRunning();)await Gl(1e3);await((i=this.bridge)==null?void 0:i.call("onload")),await this.updateWorkerConfig()}this.eventBus.on("ws-main",this.webSocketMainEventListener),this.eventBus.on("loaded-protyle-static",this.protyleEventListener),this.eventBus.on("loaded-protyle-dynamic",this.protyleEventListener),this.eventBus.on("switch-protyle",this.protyleEventListener),this.eventBus.on("destroy-protyle",this.protyleEventListener),this.eventBus.on("click-editorcontent",this.clickEditorContentEventListener)})}onLayoutReady(){}onunload(){var n,i;this.eventBus.off("ws-main",this.webSocketMainEventListener),this.eventBus.off("loaded-protyle-static",this.protyleEventListener),this.eventBus.off("loaded-protyle-dynamic",this.protyleEventListener),this.eventBus.off("switch-protyle",this.protyleEventListener),this.eventBus.off("destroy-protyle",this.protyleEventListener),this.eventBus.off("click-editorcontent",this.clickEditorContentEventListener),this.worker?(n=this.bridge)==null||n.call("unload").then(()=>{var s,a;(s=this.bridge)==null||s.terminate(),(a=this.worker)==null||a.terminate()}):(i=this.bridge)==null||i.terminate()}openSetting(){const n=this,i=new st.Dialog({title:`${this.i18n.displayName} <code class="fn__code">${this.name}</code>`,content:`<div id="${n.SETTINGS_DIALOG_ID}" class="fn__flex-column" />`,width:di?"92vw":"720px",height:di?void 0:"640px"});new pl({target:i.element.querySelector(`#${n.SETTINGS_DIALOG_ID}`),props:{config:this.config,plugin:this}})}async resetConfig(){return this.updateConfig(wi(Jt))}async clearCache(n=me.OFFLINE_CACHE_PATH){try{return await this.client.removeFile({path:n}),!0}catch{return!1}}async updateConfig(n){return n&&n!==this.config&&(this.config=n),await this.updateWorkerConfig(),this.saveData(kt.GLOBAL_CONFIG_NAME,this.config)}initBridge(){var n;(n=this.bridge)==null||n.terminate(),this.bridge=new xl(new BroadcastChannel(me.WAKATIME_WORKER_BROADCAST_CHANNEL_NAME),this.logger)}initWorker(){var n;(n=this.worker)==null||n.terminate(),this.worker=new Worker(`${globalThis.document.baseURI}plugins/${this.name}/workers/${me.WAKATIME_WORKER_FILE_NAME}.js?v=${Sn.version}`,{type:"module",name:this.name,credentials:"same-origin"})}async isWorkerRunning(){try{return this.bridge||this.initBridge(),await this.bridge.ping(),!0}catch{return!1}}async updateWorkerConfig(){var n,i;await((n=this.bridge)==null?void 0:n.call("updateConfig",this.config,{url:this.wakatimeHeartbeatsApiUrl,headers:this.wakatimeHeaders,project:this.wakatimeProject,language:this.wakatimeLanguage})),await((i=this.bridge)==null?void 0:i.call("restart"))}async testService(){try{const n=await this.client.forwardProxy({url:this.wakatimeStatusBarApiUrl,method:"GET",headers:[this.wakatimeHeaders],timeout:this.config.wakatime.timeout*1e3});return 200<=n.data.status&&n.data.status<300?!0:(this.logger.warn(n),!1)}catch{return!1}}get newId(){return globalThis.Lute.NewNodeID()}get wakatimeDefaultProject(){return`siyuan-workspace:${this.wakatimeWorkspaceName}`}get wakatimeDefaultLanguage(){return me.WAKATIME_DEFAULT_LANGUAGE}get wakatimeDefaultApiUrl(){return me.WAKATIME_DEFAULT_API_URL}get wakatimeDefaultHostname(){var n,i,s,a,r,o,c;return((s=(i=(n=globalThis.siyuan)==null?void 0:n.config)==null?void 0:i.system)==null?void 0:s.name)||((r=(a=globalThis.process)==null?void 0:a.env)==null?void 0:r.COMPUTERNAME)||((c=(o=globalThis.process)==null?void 0:o.env)==null?void 0:c.USERDOMAIN)||"unknown"}get wakatimeDefaultUserAgent(){return`${me.WAKATIME_CLIENT_NAME}/${me.WAKATIME_CLIENT_VERSION} (${this.wakatimeSystemName}-${this.wakatimeSystemVersion}-${this.wakatimeSystemArch}) ${me.WAKATIME_EDITOR_NAME}/${this.wakatimeKernelVersion} ${me.WAKATIME_PLUGIN_NAME}/${Sn.version}`}get wakatimeDefaultSystemName(){var n,i,s,a,r;return((s=(i=(n=globalThis.siyuan)==null?void 0:n.config)==null?void 0:i.system)==null?void 0:s.os)||((a=globalThis.process)==null?void 0:a.platform)||((r=globalThis.navigator.userAgentData)==null?void 0:r.platform)||globalThis.navigator.platform||"unknown"}get wakatimeDefaultSystemVersion(){var n,i,s;return((s=(i=(n=globalThis.require)==null?void 0:n.call(globalThis,"os"))==null?void 0:i.release)==null?void 0:s.call(i))||"unknown"}get wakatimeDefaultSystemArch(){var n;return((n=globalThis.process)==null?void 0:n.arch)||"unknown"}get wakatimeHeaders(){return{Authorization:this.wakatimeAuthorization,"User-Agent":this.wakatimeUserAgent,"X-Machine-Name":this.wakatimeHostname}}get wakatimeWorkspaceDirectory(){var n,i,s;return((s=(i=(n=globalThis.siyuan)==null?void 0:n.config)==null?void 0:i.system)==null?void 0:s.workspaceDir)||"unknown"}get wakatimeWorkspaceName(){return ql(Fl(this.wakatimeWorkspaceDirectory)).base}get wakatimeKernelVersion(){var n,i,s;return((s=(i=(n=globalThis.siyuan)==null?void 0:n.config)==null?void 0:i.system)==null?void 0:s.kernelVersion)||"0.0.0"}get wakatimeApiBaseUrl(){var n,i;return((i=(n=this.config)==null?void 0:n.wakatime)==null?void 0:i.api_url)||this.wakatimeDefaultApiUrl}get wakatimeStatusBarApiUrl(){return`${this.wakatimeApiBaseUrl}/${me.WAKATIME_STATUS_BAR_PATHNAME}`}get wakatimeHeartbeatsApiUrl(){return`${this.wakatimeApiBaseUrl}/${me.WAKATIME_HEARTBEATS_PATHNAME}`}get wakatimeAuthorization(){var n,i;return`Basic ${btoa((i=(n=this.config)==null?void 0:n.wakatime)==null?void 0:i.api_key)}`}get wakatimeHostname(){var n,i;return((i=(n=this.config)==null?void 0:n.wakatime)==null?void 0:i.hostname)||this.wakatimeDefaultHostname}get wakatimeUserAgent(){var n,i;return((i=(n=this.config)==null?void 0:n.wakatime)==null?void 0:i.useragent)||this.wakatimeDefaultUserAgent}get wakatimeProject(){var n,i;return((i=(n=this.config)==null?void 0:n.wakatime)==null?void 0:i.project)||this.wakatimeDefaultProject}get wakatimeLanguage(){var n,i;return((i=(n=this.config)==null?void 0:n.wakatime)==null?void 0:i.language)||this.wakatimeDefaultLanguage}get wakatimeSystemName(){var n,i;return((i=(n=this.config)==null?void 0:n.wakatime)==null?void 0:i.system_name)||this.wakatimeDefaultSystemName}get wakatimeSystemVersion(){var n,i;return((i=(n=this.config)==null?void 0:n.wakatime)==null?void 0:i.system_version)||this.wakatimeDefaultSystemVersion}get wakatimeSystemArch(){var n,i;return((i=(n=this.config)==null?void 0:n.wakatime)==null?void 0:i.system_arch)||this.wakatimeDefaultSystemArch}};G(kt,"GLOBAL_CONFIG_NAME","global-config");let un=kt;module.exports=un;
